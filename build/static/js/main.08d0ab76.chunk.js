(this.webpackJsonpgenetic_algorithm=this.webpackJsonpgenetic_algorithm||[]).push([[0],{65:function(e,t,a){},66:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),o=a.n(i),c=(a(65),a.p,a(66),a(77),a(69),a(10)),u=a(2),l=r.a.createContext(void 0),s=r.a.createContext(void 0),d=function(e){var t=e.children,a=Object(n.useState)("Paused"),r=Object(c.a)(a,2),i=r[0],o=r[1],d=Object(n.useState)(!0),f=Object(c.a)(d,2),h=f[0],b=f[1],j=Object(n.useState)(1),p=Object(c.a)(j,2),v=p[0],O=p[1],x=Object(n.useState)(null),m=Object(c.a)(x,2),y=m[0],g=m[1],S=Object(n.useState)(1e4),k=Object(c.a)(S,2),M=k[0],w=k[1],C=Object(n.useState)(4),E=Object(c.a)(C,2),R=E[0],D=E[1],F=Object(n.useState)(100),Q=Object(c.a)(F,2),P=Q[0],L=Q[1];return Object(n.useEffect)((function(){}),[y]),Object(u.jsx)(l.Provider,{value:{status:i,speed:v,restarted:h,earthQuakePosition:y,earthQuakeDuration:M,earthQuakeAmplitude:R,earthQuakeRadius:P},children:Object(u.jsx)(s.Provider,{value:{setStatus:o,setSpeed:O,setRestart:b,setEarthQuakePosition:g,setEarthQuakeDuration:w,setEarthQuakeAmplitude:D,setEarthQuakeRadius:L},children:t})})},f=function(){var e=r.a.useContext(l);if(void 0===e)throw new Error("useGlobalState error");return e},h=function(){var e=r.a.useContext(s);if(void 0===e)throw new Error("useGlobalActions error");return e},b=a(38),j=a(46),p=a(109),v=function(e){var t=f(),a=t.status,r=t.speed,i=t.earthQuakePosition,o=t.earthQuakeRadius,l=Object(n.useRef)(null),s=Object(n.useState)(e.birth+1e4>Date.now()?"#FF4489":"#E8FF95"),d=Object(c.a)(s,2),h=d[0],b=d[1],j=Object(n.useState)(e.birth+1e4>Date.now()?"babyCreature":"adultCreature"),p=Object(c.a)(j,2),v=p[0],O=p[1],x=Object(n.useState)({x:e.x?e.x:Math.floor(e.dim.w*Math.random()+e.dim.left-3),y:e.y?e.y:Math.floor(e.dim.h*Math.random()+e.dim.top-3)}),m=Object(c.a)(x,2),y=m[0],g=m[1];function S(){var t=[1,-1],a=Math.floor(Math.random()*r),n=Math.floor(Math.random()*r),c=Math.floor(2*Math.random()),u=Math.floor(2*Math.random()),l={x:y.x+t[c]*a,y:y.y+t[u]*n};l.x+6>e.dim.w+e.dim.left&&(l.x=e.dim.w+e.dim.left-6),l.y+6>e.dim.h+e.dim.top&&(l.y=e.dim.h+e.dim.top-6),l.x<e.dim.left&&(l.x=e.dim.left),l.y<e.dim.top&&(l.y=e.dim.top),g(l),b(e.birth+1e4>Date.now()?"#FF4489":"#E8FF95"),O(e.birth+1e4>Date.now()?"babyCreature":"adultCreature"),function(){if(i){var t=Math.abs(y.x+3-i.x),a=Math.abs(y.y+3-i.y);if(Math.sqrt(Math.pow(t,2)+Math.pow(a,2))<o){var n,r,c=new CustomEvent("death",{detail:{uid:e.uid}});null===(n=e.earthRef)||void 0===n||null===(r=n.current)||void 0===r||r.dispatchEvent(c)}}}()}return Object(n.useEffect)((function(){if(0===a.localeCompare("Playing")){var t=setInterval((function(){if(S(),0===v.localeCompare("adultCreature")){var t=function(){var t={},a=[];if(null===l||void 0===l?void 0:l.current){var n,r,i=null===(n=l.current)||void 0===n||null===(r=n.parentNode)||void 0===r?void 0:r.childNodes;i&&Object.keys(i).forEach((function(t){var n;0===(null===(n=i[t])||void 0===n?void 0:n.className.localeCompare("adultCreature"))&&Math.abs(i[t].offsetLeft-y.x)<10&&Math.abs(i[t].offsetTop-y.y)<10&&0!==i[t].id.localeCompare(e.uid)&&a.push(i[t])}))}return t.neighbours=a,t}().neighbours;if(t.length>0){var a,n,r=new CustomEvent("birth",{detail:{mother:e.uid,candidates:t,position:y}});null===(a=e.earthRef)||void 0===a||null===(n=a.current)||void 0===n||n.dispatchEvent(r)}}}),Math.floor(500*Math.random())+10);return function(){clearInterval(t)}}}),[y,a,r]),Object(u.jsx)("div",{className:v,ref:l,id:e.uid,style:{borderRadius:3,height:6,width:6,backgroundColor:h,position:"absolute",top:y.y,left:y.x,transition:"all 0.5s ease-in-out",WebkitBoxShadow:e.birth+1e4>Date.now()?"0 0 10px #FF4489":"none",boxShadow:e.birth+1e4>Date.now()?"0 0 10px #FF4489":"none"}})},O=a(108),x=a(54),m=a.n(x),y=a(20),g=a(107),S=a(101),k=a(102),M=a(103),w=a(111),C=a(106),E=a(110),R=a(55),D=a(53),F=a.n(D),Q=a(104),P=a(105);function L(e){var t=e.children,a=e.open,n=e.value;return Object(u.jsx)(C.a,{open:a,enterTouchDelay:0,placement:"top",title:n,children:t})}var N=function(e){var t,a=h(),n=a.setStatus,r=a.setSpeed,i=a.setRestart,o=f(),c=o.status,l=o.speed,s=o.restarted;return Object(u.jsxs)(g.a,{style:{padding:0,margin:4,top:4,left:4,width:300,zIndex:10,border:"none",borderRadius:2},children:[Object(u.jsx)(R.a,{style:{padding:0,margin:0},children:Object(u.jsxs)(S.a,{style:{padding:4,margin:0,width:"100%"},children:[Object(u.jsx)(k.a,{style:{padding:2,margin:0,textAlign:"start",fontSize:14,fontWeight:"500"},children:"Statisitcs"}),Object(u.jsx)(k.a,{style:{padding:2,margin:0,display:"flex",alignItems:"center",justifyContent:"flex-end"},children:Object(u.jsx)(O.a,{variant:"outline-dark",style:{padding:2,boxShadow:"none",fontWeight:"400",fontSize:10},onClick:function(t){t.preventDefault(),e.closeStats()},children:Object(u.jsx)(F.a,{style:{fontSize:14}})})})]})}),Object(u.jsx)(S.a,{style:{margin:0,padding:4},children:Object(u.jsxs)(M.a,{children:[Object(u.jsx)(E.a,{variant:"dark",style:{padding:"2px 8px 2px 8px",boxShadow:"none",fontSize:12},onClick:function(e){e.preventDefault(),i(!1),0===c.localeCompare("Playing")?n("Paused"):n("Playing")},children:0===c.localeCompare("Playing")?"Pause":"Play"}),Object(u.jsx)(E.a,{disabled:s,variant:"dark",style:{padding:"2px 8px 2px 8px",boxShadow:"none",fontSize:12},onClick:function(e){e.preventDefault(),n("Paused"),i(!0)},children:"Stop"})]})}),Object(u.jsx)(Q.a,{}),Object(u.jsx)(S.a,{style:{margin:0,padding:4},children:Object(u.jsxs)(P.a,{container:!0,spacing:2,style:{padding:0,margin:0},children:[Object(u.jsx)(P.a,{item:!0,style:{padding:4,margin:0,fontSize:12,fontWeight:"500"},children:"Speed"}),Object(u.jsx)(P.a,{item:!0,xs:!0,style:{padding:"4px 16px 4px 16px",margin:0,fontSize:10,fontWeight:"500"},children:Object(u.jsx)(w.a,(t={style:{boxShadow:"none"}},Object(y.a)(t,"style",{padding:0}),Object(y.a)(t,"ValueLabelComponent",L),Object(y.a)(t,"value",l),Object(y.a)(t,"min",1),Object(y.a)(t,"max",100),Object(y.a)(t,"onChange",(function(e,t){e.preventDefault(),r(t)})),t))})]})}),Object(u.jsx)(Q.a,{})]})},W=a(37),z=a.n(W),I=function(e){e.duration;var t=e.earthRef,a=Object(n.useRef)(),r=Object(n.useRef)(),i=Object(n.useRef)(),o=Object(n.useRef)(),l=(Object(n.useRef)(),Object(n.useRef)(),Object(n.useState)(!1)),s=Object(c.a)(l,2),d=(s[0],s[1],Object(n.useState)(!1)),h=Object(c.a)(d,2),b=(h[0],h[1],f()),j=b.earthQuakeDuration,p=b.earthQuakeAmplitude,v=b.earthQuakeRadius;return Object(n.useEffect)((function(){a&&a.current&&(r.current||(r.current=new z.a.Shape({parent:a.current,shape:"circle",fill:"none",scale:{0:1},radius:{0:Math.floor(v/3)},strokeWidth:{30:0},stroke:"#E96BFF",delay:"rand(75, 150)",angle:{"rand(-35, -70)":0},duration:Math.floor(3e3/p),left:0,top:0,easing:"cubic.inout",className:"no-pointer",repeat:Math.floor(j/Math.floor(3e3/p))})),i.current||(i.current=new z.a.Shape({parent:a.current,shape:"circle",fill:"none",scale:{0:1},radius:{0:Math.floor(2*v/3)},strokeWidth:{15:0},stroke:"#F57657",delay:"rand(75, 150)",angle:{"rand(-35, -70)":0},duration:Math.floor(3e3/p),left:0,top:0,easing:"cubic.inout",className:"no-pointer",repeat:Math.floor(j/Math.floor(3e3/p))})),o.current||(o.current=new z.a.Shape({parent:a.current,shape:"circle",fill:"none",scale:{0:1},radius:{0:v},strokeWidth:{10:0},stroke:"#F57657",delay:"rand(75, 150)",angle:{"rand(-35, -70)":0},duration:Math.floor(3e3/p),left:0,top:0,easing:"cubic.inout",className:"no-pointer",repeat:Math.floor(j/Math.floor(3e3/p))})))}),[a,j,p,v]),Object(n.useEffect)((function(){if(t&&t.current){var e=function(e){e.detail&&(r.current.tune({x:e.detail.x,y:e.detail.y}).play(),i.current.tune({x:e.detail.x,y:e.detail.y}).play(),o.current.tune({x:e.detail.x,y:e.detail.y}).play())};return t.current.addEventListener("earthQuake",e),function(){var a;return null===t||void 0===t||null===(a=t.current)||void 0===a?void 0:a.removeEventListener("earthQuake",e)}}})),Object(u.jsx)("div",{ref:a,className:"EarthQuake",style:{position:"absolute"}})},T=function(){var e=f(),t=(e.status,e.restarted),a=e.earthQuakePosition,r=e.earthQuakeDuration,i=h().setEarthQuakePosition,o=Object(n.useState)([]),l=Object(c.a)(o,2),s=l[0],d=l[1],x=Object(n.useState)(null),y=Object(c.a)(x,2),g=y[0],S=y[1],k=Object(n.useState)(!1),M=Object(c.a)(k,2),w=M[0],C=M[1],E=Object(n.useState)(!1),R=Object(c.a)(E,2),D=R[0],F=R[1],Q=Object(n.createRef)(),P=Object(n.useRef)([]),L=Object(n.useRef)([]);function W(e){var t=P.current;t.push({uid:Object(p.a)(),birth:Date.now(),x:e?e.x:null,y:e?e.y:null}),d(Object(b.a)(t)),P.current=t}return Object(n.useEffect)((function(){if(Q&&Q.current&&!g){var e=function(e){e.detail&&function(e){for(var t=L.current,a=t.length,n=!0,r=0;r<a;r++)if((0===t[r].mother.localeCompare(e.mother)||0===t[r].mother.localeCompare(e.father))&&(0===t[r].father.localeCompare(e.mother)||0===t[r].father.localeCompare(e.father))){n=!1;break}(0===t.length||n)&&(W({x:e.x,y:e.y}),t.push(Object(j.a)({},e))),t.length>100&&t.shift(),L.current=t}({mother:e.detail.mother,father:e.detail.candidates[0].id,x:Math.floor(e.detail.position.x+e.detail.candidates[0].offsetLeft)/2,y:Math.floor(e.detail.position.y+e.detail.candidates[0].offsetTop)/2,positionM:e.detail.position,positionF:{x:e.detail.candidates[0].offsetLeft,y:e.detail.candidates[0].offsetTop}})},t=function(e){e.detail&&function(e){for(var t=P.current,a=0;a<t.length;a++)if(0===t[a].uid.localeCompare(e)){t.splice(a,1),d(Object(b.a)(t)),P.current=t;break}}(e.detail.uid)};return Q.current.addEventListener("birth",e),Q.current.addEventListener("death",t),function(){var a,n;null===Q||void 0===Q||null===(a=Q.current)||void 0===a||a.removeEventListener("birth",e),null===Q||void 0===Q||null===(n=Q.current)||void 0===n||n.removeEventListener("death",t)}}}),[Q,Q.current]),Object(n.useEffect)((function(){t&&function(){P.current=[];for(var e=0;e<20;e++)W()}()}),[t]),Object(n.useEffect)((function(){Q&&Q.current&&!g&&S({top:Q.current.offsetTop,left:Q.current.offsetLeft,w:Q.current.offsetWidth,h:Q.current.offsetHeight})}),[Q]),Object(n.useEffect)((function(){if(a){var e=setInterval((function(){i(null)}),[r]);return function(){clearInterval(e)}}}),[a,r]),Object(u.jsxs)("div",{id:"earth",ref:Q,style:{backgroundColor:"#222222",height:"100%",width:"100%"},onMouseDown:function(e){e.preventDefault(),D||w||(0===e.button?(!function(e,t){var a,n=new CustomEvent("earthQuake",{detail:{x:e,y:t}});null===Q||void 0===Q||null===(a=Q.current)||void 0===a||a.dispatchEvent(n)}(e.clientX-g.left,e.clientY-g.top),i({x:e.clientX-g.left,y:e.clientY-g.top})):function(){var e=P.current;e.splice(Math.floor(Math.random()*P.current.length),1),d(Object(b.a)(e)),P.current=e}())},children:[Object(u.jsx)(I,{duration:3e3,earthRef:Q}),Q&&g?s.map((function(e){return Object(u.jsx)(v,{birth:e.birth,uid:e.uid,earthRef:Q,dim:g,x:e.x,y:e.y},e.uid)})):null,!1===w?Object(u.jsx)(O.a,{onMouseEnter:function(e){e.preventDefault(),F(!0)},onMouseLeave:function(e){e.preventDefault(),F(!1)},style:{position:"absolute",top:5,left:5},onClick:function(e){e.preventDefault(),C(!0)},children:Object(u.jsx)(m.a,{style:{color:"white"}})}):Object(u.jsx)(N,{closeStats:function(){C(!1),F(!1)},style:{position:"absolute",top:5,left:5}})]})};var A=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(d,{children:Object(u.jsx)(T,{})})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,112)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(A,{})}),document.getElementById("root")),B()}},[[75,1,2]]]);
//# sourceMappingURL=main.08d0ab76.chunk.js.map