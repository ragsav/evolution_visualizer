{"version":3,"sources":["logo.svg","context/globalContext.js","components/creature.js","context/themeContext.js","components/statistics.js","components/earthQuake.js","components/volcana.js","components/radiation.js","components/waterBody.js","components/screen.js","App.js","reportWebVitals.js","index.js"],"names":["GlobalStateContext","React","createContext","undefined","GlobalActionsContext","GlobalContextProvider","children","chartDataOrg","useRef","useState","chartData","setChartData","initialPopulation","setInitialPopulation","status","setStatus","restarted","setRestart","speed","setSpeed","totalPopulation","setTotalPopulation","calamityType","setCalamityType","calamityPosition","setCalamityPosition","calamityDuration","setCalamityDuration","calamitySize","setCalamitySize","calamityAmplitude","setCalamityAmplitude","calamities","setCalamities","calamitiesOrg","resourcePosition","setResourcePosition","resourceType","setResourceType","resourceSize","setResourceSize","resources","setResources","resourcesOrg","useEffect","current","length","resource","id","uuidv4","type","position","size","resourcesTemp","push","addResource","newUid","uid","calamity","duration","amplitude","start","Date","now","calamitiesTemp","addCalamity","interval","setInterval","l","i","localeCompare","splice","removeCalamityById","clearInterval","time","population","Provider","value","removeResourceById","useGlobalState","context","useContext","Error","useGlobalActions","Creature","props","creatureRef","birth","gender","color","setColor","className","setClassName","x","Math","floor","dim","w","random","y","h","setPosition","selfDestroy","event","CustomEvent","detail","earthRef","dispatchEvent","doActivities","xDiff","abs","yDiff","sqrt","pow","checkCalamity","distance","checkResources","pos","skipX","skipY","plusMinusX","plusMinusY","newPosition","changePosition","maleNeighbours","femaleNeighbours","parentNode","childNodes","Object","keys","forEach","key","offsetLeft","offsetTop","getNeighbourHood","neighbour","mother","father","clientWidth","birthRequest","neighbourUID","destroyNeighbour","ref","style","borderRadius","height","width","backgroundColor","top","left","transition","WebkitBoxShadow","boxShadow","darkTheme","adultCreatureColor","babyCreatureColor","earthColor","optionsColor","optionsFontColor","optionsBorderColor","buttonTheme","ThemeStateContext","ThemeActionsContext","ThemeProvider","theme","setTheme","ValueLabelComponent","open","Tooltip","enterTouchDelay","placement","title","Statisitcs","useThemeState","Card","padding","overflowY","minWidth","border","Row","margin","ButtonGroup","Button","variant","fontSize","onClick","e","preventDefault","disabled","fontWeight","Divider","Grid","container","spacing","item","xs","textAlign","Slider","v","FormControl","borderColor","Select","onChange","target","MenuItem","EarthQuake","animDom","ring1","ring2","ring3","mojs","Shape","parent","shape","fill","scale","0","radius","strokeWidth","30","stroke","delay","angle","easing","repeat","15","10","tune","play","Volcano","defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","options","Radiation","ring4","WaterBody","Earth","creatures","setCreatures","setContextMenuPosition","earthDimensions","setEarthDimensions","createRef","creaturesRef","birthCache","addNewCreature","creaturesTemp","handleRightClick","clientX","clientY","offsetWidth","offsetHeight","console","log","addEventListener","removeEventListener","InitializeCreatures","birthHandler","a1","b1","a2","b2","birthCacheTemp","canGiveBirth","shift","newBirth","deathHandler","removeCreatureByUid","window","innerWidth","overflow","onMouseDown","button","map","creature","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.53eb5351.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { createRef, useEffect, useState, useRef } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst GlobalStateContext = React.createContext(undefined);\r\nconst GlobalActionsContext = React.createContext(undefined);\r\n\r\nconst GlobalContextProvider = ({ children }) => {\r\n  const chartDataOrg = useRef([]);\r\n  const [chartData, setChartData] = useState(null);\r\n  const [initialPopulation, setInitialPopulation] = useState(20);\r\n  const [status, setStatus] = useState(\"Paused\");\r\n  const [restarted, setRestart] = useState(true);\r\n  const [speed, setSpeed] = useState(1);\r\n  const [totalPopulation, setTotalPopulation] = useState(20);\r\n  // const [calamity, setCalamity] = useState(\"radiation\");\r\n\r\n  const [calamityType, setCalamityType] = useState(\"none\");\r\n  const [calamityPosition, setCalamityPosition] = useState(null);\r\n  const [calamityDuration, setCalamityDuration] = useState(10000);\r\n  const [calamitySize, setCalamitySize] = useState(100);\r\n  const [calamityAmplitude, setCalamityAmplitude] = useState(6);\r\n  const [calamities, setCalamities] = useState([]);\r\n\r\n  const calamitiesOrg = useRef([]);\r\n\r\n\r\n\r\n\r\n  \r\n  const [resourcePosition, setResourcePosition] = useState(null);\r\n  const [resourceType,setResourceType] = useState(\"none\");\r\n  const [resourceSize,setResourceSize] = useState(70);\r\n  const [resources, setResources] = useState([]);\r\n  const resourcesOrg = useRef([]);\r\n  \r\n\r\n\r\n  \r\n  \r\n\r\n  function addResource() {\r\n    const uid = uuidv4();\r\n    const resource = {\r\n      id: uid,\r\n      type:resourceType,\r\n      position: resourcePosition,\r\n      size:resourceSize\r\n    };\r\n\r\n    const resourcesTemp = resourcesOrg.current;\r\n    resourcesTemp.push(resource);\r\n    resourcesOrg.current = resourcesTemp;\r\n    setResources([...resourcesTemp]);\r\n  }\r\n\r\n  function addCalamity()  {\r\n    const uid = uuidv4();\r\n    const calamity = {\r\n      id:uid,\r\n      type: calamityType,\r\n      position: calamityPosition,\r\n      duration: calamityDuration,\r\n      amplitude: calamityAmplitude,\r\n      size: calamitySize,\r\n      start:Date.now()\r\n    };\r\n\r\n    const calamitiesTemp = calamitiesOrg.current;\r\n    calamitiesTemp.push(calamity);\r\n    calamitiesOrg.current = calamitiesTemp;\r\n    setCalamities([...calamitiesTemp]);\r\n    return uid;\r\n  }\r\n\r\n  function removeResourceById(id){\r\n    const resourcesTemp = resourcesOrg.current;\r\n    const l = resourcesTemp.length;\r\n    for (var i = 0; i < l; i++) {\r\n      if (resourcesTemp[i].id.localeCompare(id) === 0) {\r\n        resourcesTemp.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    resourcesOrg.current = resourcesTemp;\r\n    if (resourcesTemp.length === 0) {\r\n      setResourcePosition(null);\r\n    }\r\n    setResources([...resourcesTemp]);\r\n  }\r\n\r\n  function removeCalamityById(id){\r\n    const calamitiesTemp = calamitiesOrg.current\r\n    const l = calamitiesTemp.length;\r\n    for(var i=0;i<l;i++){\r\n      if(calamitiesTemp[i].id.localeCompare(id)===0){\r\n        calamitiesTemp.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    calamitiesOrg.current = calamitiesTemp;\r\n    if(calamitiesTemp.length===0){\r\n      setCalamityPosition(null);\r\n    }\r\n    setCalamities([...calamitiesTemp]);\r\n    \r\n  }\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    if (resourcesOrg.current.length < 5 && resourcePosition) {\r\n      addResource();\r\n    }\r\n  }, [resourcePosition]);\r\n\r\n  useEffect(() => {\r\n    if (calamitiesOrg.current.length < 5 && calamityPosition) {\r\n      const newUid = addCalamity();\r\n\r\n      const interval = setInterval(() => {\r\n        removeCalamityById(newUid);\r\n      }, [calamityDuration]);\r\n      if (calamitiesOrg.current.length === 0) {\r\n        return () => {\r\n          clearInterval(interval);\r\n        };\r\n      }\r\n    }\r\n  }, [calamityPosition]);\r\n\r\n  useEffect(() => {\r\n    chartDataOrg.current.push({\r\n      time: Date.now(),\r\n      population: totalPopulation,\r\n    });\r\n  }, [totalPopulation]);\r\n\r\n  useEffect(() => {\r\n    if (restarted) {\r\n      setChartData(chartDataOrg.current);\r\n    }\r\n  }, [restarted]);\r\n\r\n  return (\r\n    <GlobalStateContext.Provider\r\n      value={{\r\n        initialPopulation,\r\n        status,\r\n        speed,\r\n        restarted,\r\n        totalPopulation,\r\n        calamityType,\r\n        calamityAmplitude,\r\n        calamityDuration,\r\n        calamityPosition,\r\n        calamitySize,\r\n        calamities,\r\n        resourcePosition,\r\n        resources,\r\n        resourceType,\r\n        resourceSize,\r\n        chartData,\r\n      }}\r\n    >\r\n      <GlobalActionsContext.Provider\r\n        value={{\r\n          setInitialPopulation,\r\n          setStatus,\r\n          setSpeed,\r\n          setRestart,\r\n          setTotalPopulation,\r\n          setCalamityType,\r\n          setCalamityAmplitude,\r\n          setCalamityDuration,\r\n          setCalamityPosition,\r\n          setCalamitySize,\r\n          removeResourceById,\r\n          setResourcePosition,\r\n          setResourceType,\r\n          setResourceSize,\r\n        }}\r\n      >\r\n        {children}\r\n      </GlobalActionsContext.Provider>\r\n    </GlobalStateContext.Provider>\r\n  );\r\n};\r\n\r\nconst useGlobalState = () => {\r\n  const context = React.useContext(GlobalStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useGlobalState error\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nconst useGlobalActions = () => {\r\n  const context = React.useContext(GlobalActionsContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useGlobalActions error\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nexport { useGlobalState, useGlobalActions, GlobalContextProvider };\r\n","import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\n\r\n\r\n\r\n\r\n\r\nconst Creature = (props) => {\r\n  const { status, speed, calamities, resources ,totalPopulation} = useGlobalState();\r\n  const creatureRef = useRef(null);\r\n  const size = useRef(props.size ? props.size : 6);\r\n  const [color, setColor] = useState(\r\n    props.birth + 10000 > Date.now()\r\n      ? \"#44FFE3\"\r\n      : props.gender.localeCompare(\"M\") === 0\r\n      ? \"#E8FF95\"\r\n      : \"#FF4489\"\r\n  );\r\n  const [className, setClassName] = useState(\r\n    props.birth + 10000 > Date.now() ? \"babyCreature\" : \"adultCreature\"\r\n  );\r\n  const [position, setPosition] = useState({\r\n    x: props.x\r\n      ? props.x\r\n      : Math.floor((props.dim.w - 20) * Math.random() - size.current / 2 + 10),\r\n    y: props.y\r\n      ? props.y\r\n      : Math.floor((props.dim.h - 20) * Math.random() - size.current / 2 + 10),\r\n  });\r\n\r\n  function increaseSize() {\r\n    size.current = 10;\r\n  }\r\n\r\n  //destroy self\r\n  function selfDestroy() {\r\n    const event = new CustomEvent(\"death\", {\r\n      detail: { uid: props.uid },\r\n    });\r\n    props.earthRef?.current?.dispatchEvent(event);\r\n  }\r\n\r\n  function destroyNeighbour(neighbourUID) {\r\n    const event = new CustomEvent(\"death\", {\r\n      detail: { uid: neighbourUID },\r\n    });\r\n    props.earthRef?.current?.dispatchEvent(event);\r\n  }\r\n\r\n  //check if there is any calamity nearby\r\n  function checkCalamity() {\r\n    if (calamities.length > 0) {\r\n      for (var i = 0; i < calamities.length; i++) {\r\n        const xDiff = Math.abs(\r\n          position.x + size.current / 2 - calamities[i].position.x\r\n        );\r\n        const yDiff = Math.abs(\r\n          position.y + size.current / 2 - calamities[i].position.y\r\n        );\r\n        const distance = Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2));\r\n\r\n        if (distance < calamities[i].size) {\r\n          selfDestroy();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  //check if there is any water body nearby\r\n  function checkResources() {\r\n    if (resources.length > 0) {\r\n      for (var i = 0; i < resources.length; i++) {\r\n        const xDiff = Math.abs(\r\n          position.x + size.current / 2 - resources[i].position.x\r\n        );\r\n        const yDiff = Math.abs(\r\n          position.y + size.current / 2 - resources[i].position.y\r\n        );\r\n\r\n        const distance = Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2));\r\n\r\n        if (distance < resources[i].size / 2 + 30) {\r\n          if (distance < resources[i].size / 2) {\r\n            //do something here asumming the creature becomes wwater animal\r\n          } else {\r\n            increaseSize();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function changeColor() {\r\n    if (\r\n      props.birth + 10000 < Date.now() &&\r\n      color.localeCompare(\"#44FFE3\") === 0\r\n    )\r\n      setColor(props.gender.localeCompare(\"M\") === 0 ? \"#E8FF95\" : \"#FF4489\");\r\n  }\r\n\r\n  function changeClassName() {\r\n    if (\r\n      props.birth + 10000 < Date.now() &&\r\n      className.localeCompare(\"babyCreature\") === 0\r\n    )\r\n      setClassName(\"adultCreature\");\r\n  }\r\n\r\n  function canReproduce() {\r\n    if (className.localeCompare(\"adultCreature\") === 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function checkIfOldEnoughToDie(){\r\n    if(Date.now()>props.birth+50000&&Math.random()>0.97){\r\n      selfDestroy();\r\n    }\r\n  }\r\n  //change position randomly *update to tendency based position change*\r\n  function changePosition() {\r\n    const pos = [1, -1];\r\n    const skipX = Math.floor(Math.random() * speed);\r\n    const skipY = Math.floor(Math.random() * speed);\r\n\r\n    const plusMinusX = Math.floor(Math.random() * 2);\r\n    const plusMinusY = Math.floor(Math.random() * 2);\r\n\r\n    const newPosition = {\r\n      x: position.x + pos[plusMinusX] * skipX,\r\n      y: position.y + pos[plusMinusY] * skipY,\r\n    };\r\n\r\n    if (newPosition.x + size.current + 10 > props.dim.w) {\r\n      newPosition.x = props.dim.w - size.current - 10;\r\n    }\r\n    if (newPosition.y + size.current + 10 > props.dim.h) {\r\n      newPosition.y = props.dim.h - size.current - 10;\r\n    }\r\n    if (newPosition.x < 10) {\r\n      newPosition.x = 10;\r\n    }\r\n    if (newPosition.y < 10) {\r\n      newPosition.y = 10;\r\n    }\r\n\r\n    setPosition(newPosition);\r\n  }\r\n\r\n  //get all neighbouring adults\r\n  function getNeighbourHood() {\r\n    \r\n    const maleNeighbours = [];\r\n    const femaleNeighbours = [];\r\n    if (creatureRef?.current) {\r\n      const children = creatureRef.current?.parentNode?.childNodes;\r\n      if (children) {\r\n        Object.keys(children).forEach((key) => {\r\n          if (\r\n            children[key]?.className.localeCompare(\"adultCreature\") === 0 &&\r\n            Math.abs(children[key].offsetLeft - position.x) < 10 &&\r\n            Math.abs(children[key].offsetTop - position.y) < 10 &&\r\n            children[key].id.localeCompare(props.uid) !== 0\r\n          ) {\r\n            if(children[key].id[0].localeCompare(\"F\")===0){\r\n              femaleNeighbours.push(children[key]);\r\n            }else{\r\n               maleNeighbours.push(children[key]);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    const neighbourHood = {maleNeighbours,femaleNeighbours};\r\n    return neighbourHood;\r\n  }\r\n\r\n  //send birth request to earth\r\n  function birthRequest(neighbour) {\r\n    const mother = { id: props.uid, position: position, size: size.current };\r\n    const father = {\r\n      id: neighbour.id,\r\n      position: {\r\n        x: neighbour.offsetLeft,\r\n        y: neighbour.offsetTop,\r\n      },\r\n      size: neighbour.clientWidth,\r\n    };\r\n\r\n    const event = new CustomEvent(\"birth\", {\r\n      detail: { mother, father },\r\n    });\r\n    props.earthRef?.current?.dispatchEvent(event);\r\n  }\r\n\r\n  //regular activity function\r\n  function doActivities() {\r\n    checkIfOldEnoughToDie()\r\n    checkCalamity();\r\n    checkResources();\r\n\r\n    changePosition();\r\n    changeColor();\r\n    changeClassName();\r\n\r\n    const { maleNeighbours,femaleNeighbours } = getNeighbourHood();\r\n    if(props.uid[0].localeCompare(\"F\")===0){\r\n      if(canReproduce()&&maleNeighbours.length>0){\r\n        birthRequest(maleNeighbours[0]);\r\n      }\r\n    }else{\r\n      if (maleNeighbours.length>0 && maleNeighbours[0].clientWidth < size.current){\r\n        destroyNeighbour(maleNeighbours[0].id);\r\n      }\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    if (status.localeCompare(\"Playing\") === 0) {\r\n      const interval = setInterval(() => {\r\n        doActivities();\r\n      }, Math.floor(Math.random() * 500) + 10);\r\n\r\n      \r\n      return () => {\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n  }, [position, status, speed]);\r\n\r\n  \r\n  return (\r\n    <div\r\n      className={className}\r\n      ref={creatureRef}\r\n      id={props.uid}\r\n      style={{\r\n        borderRadius: size.current / 2,\r\n        height: size.current,\r\n        width: size.current,\r\n        backgroundColor: color,\r\n        position: \"absolute\",\r\n        top: position.y,\r\n        left: position.x,\r\n        transition: \"all 0.5s ease-in-out\",\r\n        WebkitBoxShadow:\r\n          props.birth + 10000 > Date.now() ? \"0 0 10px #44FFE3\" : \"none\",\r\n        boxShadow:\r\n          props.birth + 10000 > Date.now() ? \"0 0 10px #44FFE3\" : \"none\",\r\n      }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Creature;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst darkTheme = {\r\n  adultCreatureColor: \"#FF4489\",\r\n  babyCreatureColor: \"#E8FF95\",\r\n  earthColor: \"#2A2A2A\",\r\n  optionsColor: \"#FFFFFF\",\r\n  optionsFontColor: \"#545454\",\r\n  optionsBorderColor: \"#ACACAC\",\r\n  buttonTheme: \"dark\",\r\n};\r\nconst ThemeStateContext = React.createContext(undefined);\r\nconst ThemeActionsContext = React.createContext(undefined);\r\n\r\nconst ThemeProvider = ({ children }) => {\r\n  const [theme, setTheme] = useState(darkTheme);\r\n\r\n  return (\r\n    <ThemeStateContext.Provider\r\n      value={{\r\n        theme,\r\n      }}\r\n    >\r\n      <ThemeActionsContext.Provider\r\n        value={{\r\n          setTheme,\r\n        }}\r\n      >\r\n        {children}\r\n      </ThemeActionsContext.Provider>\r\n    </ThemeStateContext.Provider>\r\n  );\r\n};\r\n\r\nconst useThemeState = () => {\r\n  const context = React.useContext(ThemeStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useThemeState must be used within a ThemeProvider\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nconst useThemeActions = () => {\r\n  const context = React.useContext(ThemeActionsContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useThemeActions must be used within a ThemeProvider\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nexport { useThemeState, useThemeActions, ThemeProvider };\r\n","import { Row, Card, ButtonGroup } from \"react-bootstrap\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport { useThemeState } from \"../context/themeContext\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport {\r\n  Divider,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nconst Statisitcs = (props) => {\r\n  const {\r\n    setInitialPopulation,\r\n    setStatus,\r\n    setSpeed,\r\n    setRestart,\r\n    setCalamityType,\r\n    setCalamityAmplitude,\r\n    setCalamityDuration,\r\n    setCalamitySize,\r\n    setResourceType,\r\n    setResourceSize,\r\n  } = useGlobalActions();\r\n  const {\r\n    initialPopulation,\r\n    status,\r\n    speed,\r\n    restarted,\r\n    totalPopulation,\r\n    calamityType,\r\n    calamityAmplitude,\r\n    calamityDuration,\r\n    calamitySize,\r\n    resourceType,\r\n    resourceSize,\r\n  } = useGlobalState();\r\n\r\n  const { theme } = useThemeState();\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        padding: 4,\r\n        borderRadius: 0,\r\n        width: 300,\r\n        overflowY: \"scroll\",\r\n        height: \"100%\",\r\n        minWidth: 300,\r\n        border: \"none\",\r\n        backgroundColor: theme.optionsColor,\r\n      }}\r\n    >\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <ButtonGroup>\r\n          <Button\r\n            variant={theme.buttonTheme}\r\n            style={{\r\n              padding: \"2px 8px 2px 8px\",\r\n              boxShadow: \"none\",\r\n              fontSize: 12,\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setRestart(false);\r\n              status.localeCompare(\"Playing\") === 0\r\n                ? setStatus(\"Paused\")\r\n                : setStatus(\"Playing\");\r\n            }}\r\n          >\r\n            {status.localeCompare(\"Playing\") === 0 ? \"Pause\" : \"Play\"}\r\n          </Button>\r\n          <Button\r\n            disabled={restarted}\r\n            variant={theme.buttonTheme}\r\n            style={{\r\n              padding: \"2px 8px 2px 8px\",\r\n              boxShadow: \"none\",\r\n              fontSize: 12,\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setStatus(\"Paused\");\r\n              setRestart(true);\r\n            }}\r\n          >\r\n            Stop\r\n          </Button>\r\n        </ButtonGroup>\r\n        <span style={{fontWeight:\"600\",fontSize:12,padding:2,margin:2}}>{`Total Population : ${totalPopulation}`}</span>\r\n      </Row>\r\n\r\n      <Divider style={{ backgroundColor: theme.optionsBorderColor }}></Divider>\r\n\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: 4,\r\n              margin: 0,\r\n              fontSize: 12,\r\n              fontWeight: \"500\",\r\n              textAlign: \"start\",\r\n              color: theme.optionsFontColor,\r\n            }}\r\n          >\r\n            Initial Population\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: \"4px 16px 4px 16px\",\r\n              margin: 0,\r\n              fontSize: 10,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\", color: theme.optionsFontColor }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={initialPopulation}\r\n              min={1}\r\n              max={200}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setInitialPopulation(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n\r\n      <Divider style={{ backgroundColor: theme.optionsBorderColor }}></Divider>\r\n\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: 4,\r\n              margin: 0,\r\n              fontSize: 12,\r\n              fontWeight: \"500\",\r\n              textAlign: \"start\",\r\n              color: theme.optionsFontColor,\r\n            }}\r\n          >\r\n            Creature speed\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: \"4px 16px 4px 16px\",\r\n              margin: 0,\r\n              fontSize: 10,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\", color: theme.optionsFontColor }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={speed}\r\n              min={1}\r\n              max={100}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setSpeed(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n\r\n      <div\r\n        style={{\r\n          borderRadius: 4,\r\n          border: `1px solid ${theme.optionsBorderColor}`,\r\n          padding: 2,\r\n          margin: 2,\r\n        }}\r\n      >\r\n        <Row style={{ margin: 0, padding: \"8px 4px 4px 4px\" }}>\r\n          <FormControl\r\n            // variant=\"outlined\"\r\n            style={{\r\n              width: \"100%\",\r\n              padding: 0,\r\n              borderColor: theme.optionsBorderColor,\r\n            }}\r\n            size=\"small\"\r\n          >\r\n            <Select\r\n              value={calamityType}\r\n              onChange={(e) => {\r\n                e.preventDefault();\r\n                setResourceType(\"none\");\r\n                setCalamityType(e.target.value);\r\n              }}\r\n              style={{\r\n                padding: 0,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"600\",\r\n                borderRadius: 4,\r\n                color: theme.optionsFontColor,\r\n                border: `1px solid ${theme.optionsBorderColor}`,\r\n              }}\r\n            >\r\n              <MenuItem\r\n                value=\"none\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                None\r\n              </MenuItem>\r\n              <MenuItem\r\n                value=\"radiation\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                Radiation\r\n              </MenuItem>\r\n              <MenuItem\r\n                value=\"earthQuake\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                Earth Quake\r\n              </MenuItem>\r\n              <MenuItem\r\n                value=\"volcano\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                Volcano\r\n              </MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Row>\r\n\r\n        <Row style={{ margin: 0, padding: 4 }}>\r\n          <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n                textAlign: \"start\",\r\n                color: theme.optionsFontColor,\r\n              }}\r\n            >\r\n              Calamity size\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: \"4px 16px 4px 16px\",\r\n                margin: 0,\r\n                fontSize: 10,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              <Slider\r\n                style={{\r\n                  boxShadow: \"none\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n                style={{ padding: 0 }}\r\n                ValueLabelComponent={ValueLabelComponent}\r\n                value={calamitySize}\r\n                min={10}\r\n                max={500}\r\n                step={1}\r\n                onChange={(e, v) => {\r\n                  e.preventDefault();\r\n                  setCalamitySize(v);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Row>\r\n\r\n        \r\n\r\n        <Row style={{ margin: 0, padding: 4 }}>\r\n          <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n                textAlign: \"start\",\r\n                color: theme.optionsFontColor,\r\n              }}\r\n            >\r\n              Calamity amplitude\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: \"4px 16px 4px 16px\",\r\n                margin: 0,\r\n                fontSize: 10,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              <Slider\r\n                style={{\r\n                  boxShadow: \"none\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n                style={{ padding: 0 }}\r\n                ValueLabelComponent={ValueLabelComponent}\r\n                value={calamityAmplitude}\r\n                min={1}\r\n                max={10}\r\n                step={1}\r\n                onChange={(e, v) => {\r\n                  e.preventDefault();\r\n                  setCalamityAmplitude(v);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Row>\r\n\r\n        \r\n\r\n        <Row style={{ margin: 0, padding: 4 }}>\r\n          <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n                textAlign: \"start\",\r\n                color: theme.optionsFontColor,\r\n              }}\r\n            >\r\n              Calamity duration\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: \"4px 16px 4px 16px\",\r\n                margin: 0,\r\n                fontSize: 10,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              <Slider\r\n                style={{\r\n                  boxShadow: \"none\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n                style={{ padding: 0 }}\r\n                ValueLabelComponent={ValueLabelComponent}\r\n                value={calamityDuration}\r\n                min={2000}\r\n                max={100000}\r\n                step={1000}\r\n                onChange={(e, v) => {\r\n                  e.preventDefault();\r\n                  setCalamityDuration(v);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Row>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          borderRadius: 4,\r\n          border: `1px solid ${theme.optionsBorderColor}`,\r\n          padding: 2,\r\n          margin: 2,\r\n        }}\r\n      >\r\n        <Row style={{ margin: 0, padding: \"8px 4px 4px 4px\" }}>\r\n          <FormControl\r\n            \r\n            style={{ width: \"100%\", padding: 0 }}\r\n            size=\"small\"\r\n          >\r\n            <Select\r\n              value={resourceType}\r\n              onChange={(e) => {\r\n                e.preventDefault();\r\n                setCalamityType(\"none\");\r\n                setResourceType(e.target.value);\r\n              }}\r\n              style={{\r\n                padding: 0,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"600\",\r\n                borderRadius: 4,\r\n                color: theme.optionsFontColor,\r\n                border: `1px solid ${theme.optionsBorderColor}`,\r\n              }}\r\n            >\r\n              <MenuItem\r\n                value=\"none\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                None\r\n              </MenuItem>\r\n\r\n              <MenuItem\r\n                value=\"waterBody\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                Water body\r\n              </MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Row>\r\n\r\n        <Row style={{ margin: 0, padding: 4 }}>\r\n          <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n                textAlign: \"start\",\r\n                color: theme.optionsFontColor,\r\n              }}\r\n            >\r\n              Resource size\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: \"4px 16px 4px 16px\",\r\n                margin: 0,\r\n                fontSize: 10,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              <Slider\r\n                style={{ boxShadow: \"none\", color: theme.optionsFontColor }}\r\n                style={{ padding: 0 }}\r\n                ValueLabelComponent={ValueLabelComponent}\r\n                value={resourceSize}\r\n                min={10}\r\n                max={300}\r\n                step={1}\r\n                onChange={(e, v) => {\r\n                  e.preventDefault();\r\n                  setResourceSize(v);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Row>\r\n\r\n        \r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Statisitcs;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport mojs from \"@mojs/core\";\r\nconst EarthQuake = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const ring1 = useRef();\r\n  const ring2 = useRef();\r\n  const ring3 = useRef();\r\n\r\n  useEffect(() => {\r\n    if (animDom && animDom.current) {\r\n      ring1.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor(size / 3) },\r\n        strokeWidth: { 30: 0 },\r\n        stroke: \"#E96BFF\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring2.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((2 * size) / 3) },\r\n        strokeWidth: { 15: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring3.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: size },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring1.current.tune(position).play();\r\n      ring2.current.tune(position).play();\r\n      ring3.current.tune(position).play();\r\n    }\r\n  }, [animDom]);\r\n\r\n  return (\r\n    <div\r\n      ref={animDom}\r\n      className=\"EarthQuake\"\r\n      // class=\"shake-hard shake-constant\"\r\n      style={{ position: \"absolute\" }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default EarthQuake;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport animationData from \"../assets/volcana.json\";\r\nimport mojs from \"@mojs/core\";\r\nimport Lottie from \"react-lottie\";\r\nconst Volcano = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"Volcano\" style={{ position: \"absolute\" }} ref={animDom}>\r\n      <div\r\n        className=\"Volcano\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: position.y - size / 2,\r\n          left: position.x - size / 2,\r\n        }}\r\n      >\r\n        <Lottie\r\n          options={defaultOptions}\r\n          height={size}\r\n          width={size}\r\n          style={{ transition: \"all 2s linear\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Volcano;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\n\r\nimport mojs from \"@mojs/core\";\r\n\r\nimport animationData from \"../assets/radiation.json\";\r\n\r\nimport Lottie from \"react-lottie\";\r\nconst Radiation = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const ring1 = useRef();\r\n  const ring2 = useRef();\r\n  const ring3 = useRef();\r\n  const ring4 = useRef();\r\n\r\n  useEffect(() => {\r\n    if (animDom && animDom.current) {\r\n      ring1.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((4 * size) / 5) },\r\n        strokeWidth: { 30: 0 },\r\n        stroke: \"#E96BFF\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring2.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((2 * size) / 3) },\r\n        strokeWidth: { 15: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring3.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: size },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n      ring4.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((3 * size) / 4) },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring1.current.tune(position).play();\r\n      ring2.current.tune(position).play();\r\n      ring3.current.tune(position).play();\r\n      ring4.current.tune(position).play();\r\n    }\r\n  }, [animDom]);\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n  return (\r\n    <div ref={animDom} className=\"Radiation\" style={{ position: \"absolute\" }}>\r\n      {position ? (\r\n        <div\r\n          className=\"Volcano\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: position.y - size / 2,\r\n            left: position.x - size / 2,\r\n          }}\r\n        >\r\n          <Lottie\r\n            options={defaultOptions}\r\n            height={size}\r\n            width={size}\r\n            style={{ transition: \"all 2s linear\" }}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Radiation;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\n\r\nconst WaterBody = ({ earthRef, position, uid, size }) => {\r\n  return (\r\n    <div className=\"WaterBody\" style={{ position: \"absolute\" }}>\r\n      <div\r\n        className=\"WaterBody\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: position.y - size / 2,\r\n          left: position.x - size / 2,\r\n        }}\r\n      >\r\n        <div\r\n          className=\"WaterBody\"\r\n          style={{\r\n            boxShadow: \"inset 0 0 10px #485662\",\r\n            borderRadius: size / 2,\r\n            backgroundColor: \"#66B3FF\",\r\n            width: size,\r\n            height: size,\r\n          }}\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WaterBody;\r\n","import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Creature from \"./creature\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport Statisitcs from \"./statistics\";\r\nimport EarthQuake from \"./earthQuake\";\r\nimport Volcano from \"./volcana\";\r\nimport Radiation from \"./radiation\";\r\nimport WaterBody from \"./waterBody\";\r\n\r\n// const demo = Array.from(Array(100).keys());\r\n\r\n\r\n\r\n\r\n\r\nconst isPairEqual = (a1, b1, a2, b2) => {\r\n  // console.log(a1,b1,a2,b2);\r\n  if (\r\n    (a1.localeCompare(a2) === 0 || a1.localeCompare(b2) === 0) &&\r\n    (b1.localeCompare(a2) === 0 || b1.localeCompare(b2) === 0)\r\n  ) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nconst Earth = () => {\r\n  const {\r\n    restarted,\r\n    calamityType,\r\n    calamities,\r\n    resources,\r\n    resourceType,\r\n    initialPopulation,\r\n  } = useGlobalState();\r\n  const { setCalamityPosition, setResourcePosition,setTotalPopulation } = useGlobalActions();\r\n  const [creatures, setCreatures] = useState([]);\r\n  const [contextMenuPosition, setContextMenuPosition] = useState(null);\r\n  const [earthDimensions, setEarthDimensions] = useState(null);\r\n  const earthRef = createRef();\r\n  const creaturesRef = useRef([]);\r\n  const birthCache = useRef([]);\r\n\r\n  //initial population of creatures\r\n  function InitializeCreatures(initialPopulation) {\r\n    creaturesRef.current = [];\r\n    for (var i = 0; i < initialPopulation; i++) {\r\n      addNewCreature();\r\n    }\r\n  }\r\n\r\n  //add new creature to creaturesRef\r\n  function addNewCreature(props) {\r\n    const creaturesTemp = creaturesRef.current;\r\n    const gender = Math.random()>0.5?\"M\":\"F\";\r\n    const uid = `${gender}-${uuidv4()}`;\r\n    creaturesTemp.push({\r\n      uid: uid,\r\n      birth: Date.now(),\r\n      x: props?.x,\r\n      y: props?.y,\r\n      size: props?.size,\r\n      gender:gender\r\n    });\r\n    setCreatures([...creaturesTemp]);\r\n    creaturesRef.current = creaturesTemp;\r\n    return uid;\r\n  }\r\n\r\n  //remove creature by id from creatureRef\r\n  function removeCreatureByUid(uid) {\r\n    const creaturesTemp = creaturesRef.current;\r\n    for (var i = 0; i < creaturesTemp.length; i++) {\r\n      if (creaturesTemp[i].uid.localeCompare(uid) === 0) {\r\n        creaturesTemp.splice(i, 1);\r\n        setCreatures([...creaturesTemp]);\r\n        creaturesRef.current = creaturesTemp;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  //remove random creature\r\n  function removeRandom() {\r\n    const creaturesTemp = creaturesRef.current;\r\n    creaturesTemp.splice(\r\n      Math.floor(Math.random() * creaturesRef.current.length),\r\n      1\r\n    );\r\n    setCreatures([...creaturesTemp]);\r\n    creaturesRef.current = creaturesTemp;\r\n  }\r\n\r\n  //handle new births wheather the parents have mate recently or not\r\n  function newBirth({ mother, father }) {\r\n    const birthCacheTemp = birthCache.current;\r\n    const l = birthCacheTemp.length;\r\n\r\n    var canGiveBirth = true;\r\n    for (var i = 0; i < l; i++) {\r\n      if (\r\n        isPairEqual(\r\n          birthCacheTemp[i].mother.id,\r\n          birthCacheTemp[i].father.id,\r\n          mother.id,\r\n          father.id\r\n        )\r\n      ) {\r\n        console.log(\"birth not allowed!\");\r\n        canGiveBirth = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (canGiveBirth) {\r\n      const childId = addNewCreature({\r\n        x: (mother.position.x + father.position.x) / 2,\r\n        y: (mother.position.y + father.position.y) / 2,\r\n        size: (mother.size + father.size) / 2,\r\n      });\r\n      birthCacheTemp.push({ mother, father });\r\n    }\r\n    if (birthCacheTemp.length > 100) {\r\n      birthCacheTemp.shift();\r\n    }\r\n    birthCache.current = birthCacheTemp;\r\n  }\r\n\r\n  //handle left click\r\n  function handleLeftClick(e) {\r\n    e.preventDefault();\r\n    if (e.button === 0) {\r\n      if (\r\n        calamityType.localeCompare(\"none\") !== 0 &&\r\n        calamities.length < 5 &&\r\n        resourceType.localeCompare(\"none\") === 0\r\n      ) {\r\n        setCalamityPosition({\r\n          x: e.clientX - earthDimensions.left,\r\n          y: e.clientY - earthDimensions.top,\r\n        });\r\n      } else if (\r\n        resourceType.localeCompare(\"none\") !== 0 &&\r\n        resources.length < 5 &&\r\n        calamityType.localeCompare(\"none\") === 0\r\n      ) {\r\n        setResourcePosition({\r\n          x: e.clientX - earthDimensions.left,\r\n          y: e.clientY - earthDimensions.top,\r\n        });\r\n      }\r\n    } else if (e.button === 2) {\r\n      handleRightClick(e);\r\n    }\r\n  }\r\n\r\n  //handle right click\r\n  function handleRightClick(e) {\r\n    e.preventDefault();\r\n    setContextMenuPosition({\r\n      x: e.clientX - earthDimensions.left,\r\n      y: e.clientY - earthDimensions.top,\r\n    });\r\n  }\r\n\r\n  //set dimensions of earth when reference is available\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current && !earthDimensions) {\r\n      setEarthDimensions({\r\n        top: earthRef.current.offsetTop,\r\n        left: earthRef.current.offsetLeft,\r\n        w: earthRef.current.offsetWidth,\r\n        h: earthRef.current.offsetHeight,\r\n      });\r\n      console.log(earthDimensions);\r\n    }\r\n  }, [earthRef]);\r\n\r\n  //adding contectmenu listener to hide contect menu on right click\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current) {\r\n      earthRef.current.addEventListener(\"contextmenu\", (e) => {\r\n        e.preventDefault();\r\n      });\r\n\r\n      return () => {\r\n        earthRef?.current?.removeEventListener(\"contextmenu\", handleRightClick);\r\n      };\r\n    }\r\n  }, [earthRef]);\r\n\r\n  //restart effect\r\n  useEffect(() => {\r\n    if (restarted) {\r\n      InitializeCreatures(initialPopulation);\r\n    }\r\n  }, [restarted,  initialPopulation]);\r\n\r\n  //add birth and death event handlers when earth reference is available\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current && !earthDimensions) {\r\n      const birthHandler = (e) => {\r\n        if (e.detail) {\r\n          newBirth({\r\n            mother: e.detail.mother,\r\n            father: e.detail.father,\r\n          });\r\n        }\r\n      };\r\n      const deathHandler = (e) => {\r\n        if (e.detail) {\r\n          removeCreatureByUid(e.detail.uid);\r\n        }\r\n      };\r\n      earthRef.current.addEventListener(\"birth\", birthHandler);\r\n      earthRef.current.addEventListener(\"death\", deathHandler);\r\n      return () => {\r\n        earthRef?.current?.removeEventListener(\"birth\", birthHandler);\r\n        earthRef?.current?.removeEventListener(\"death\", deathHandler);\r\n      };\r\n    }\r\n  }, [earthRef, earthRef.current]);\r\n\r\n\r\n  //save population size in global state\r\n  useEffect(()=>{\r\n    setTotalPopulation(creatures.length);\r\n  },[creatures])\r\n\r\n\r\n  return (\r\n    <div\r\n      id=\"earth\"\r\n      ref={earthRef}\r\n      style={{\r\n        backgroundColor: \"#2A2A2A\",\r\n        height: \"100%\",\r\n        width: window.innerWidth - 300,\r\n        overflow: \"hidden\",\r\n        position: \"relative\",\r\n      }}\r\n      onMouseDown={handleLeftClick}\r\n    >\r\n      {resources\r\n        ? resources.map((resource) => {\r\n            if (resource.type.localeCompare(\"waterBody\") === 0) {\r\n              return (\r\n                <WaterBody\r\n                  key={`${resource.id}+resource`}\r\n                  uid={resource.id}\r\n                  size={resource.size}\r\n                  position={resource.position}\r\n                ></WaterBody>\r\n              );\r\n            }\r\n          })\r\n        : null}\r\n      {calamities\r\n        ? calamities.map((calamity) => {\r\n            if (calamity.type.localeCompare(\"earthQuake\") === 0) {\r\n              return (\r\n                <EarthQuake\r\n                  key={`${calamity.id}+calamity`}\r\n                  size={calamity.size}\r\n                  amplitude={calamity.amplitude}\r\n                  duration={calamity.duration}\r\n                  position={calamity.position}\r\n                />\r\n              );\r\n            } else if (calamity.type.localeCompare(\"volcano\") === 0) {\r\n              return (\r\n                <Volcano\r\n                  key={`${calamity.id}+calamity`}\r\n                  size={calamity.size}\r\n                  amplitude={calamity.amplitude}\r\n                  duration={calamity.duration}\r\n                  position={calamity.position}\r\n                />\r\n              );\r\n            } else if (calamity.type.localeCompare(\"radiation\") === 0) {\r\n              return (\r\n                <Radiation\r\n                  key={`${calamity.id}+calamity`}\r\n                  size={calamity.size}\r\n                  amplitude={calamity.amplitude}\r\n                  duration={calamity.duration}\r\n                  position={calamity.position}\r\n                />\r\n              );\r\n            }\r\n          })\r\n        : null}\r\n      {earthRef && earthDimensions\r\n        ? creatures.map((creature) => {\r\n            return (\r\n              <Creature\r\n                birth={creature.birth}\r\n                key={creature.uid}\r\n                uid={creature.uid}\r\n                earthRef={earthRef}\r\n                dim={earthDimensions}\r\n                x={creature.x}\r\n                y={creature.y}\r\n                size={creature.size}\r\n                gender={creature.gender}\r\n              ></Creature>\r\n            );\r\n          })\r\n        : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Earth;\r\n","import logo from './logo.svg';\r\nimport './App.css';\r\nimport Ripples from \"react-ripples\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n// import Screen from './components/screen';\r\nimport { GlobalContextProvider } from './context/globalContext';\r\nimport Earth from \"./components/screen\";\r\nimport Statisitcs from \"./components/statistics\"\r\nimport { Row } from 'react-bootstrap';\r\nimport { ThemeProvider } from \"./context/themeContext\";\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <ThemeProvider>\r\n        <GlobalContextProvider>\r\n          <Statisitcs\r\n            style={{ position: \"absolute\", top: 5, left: 5 }}\r\n          ></Statisitcs>\r\n          <Earth></Earth>\r\n        </GlobalContextProvider>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}