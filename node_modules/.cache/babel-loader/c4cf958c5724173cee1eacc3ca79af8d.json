{"ast":null,"code":"import _toConsumableArray from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState,useRef}from\"react\";import ReactDom from\"react-dom\";import React from\"react\";import{Card}from\"react-bootstrap\";import{useGlobalActions,useGlobalState}from\"../context/globalContext\";import\"./node.css\";import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";var Node=function Node(props){var bounds=props.bounds;var size=10;var nodeRef=useRef(null);var _useState=useState({x:Math.floor(Math.random()*bounds.w),y:Math.floor(Math.random()*bounds.h)}),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=useState(props.color?props.color:\"#5EFF00\"),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];useEffect(function(){var timeInterval=setInterval(function(){var pos=[1,-1];var skipX=Math.floor(Math.random()*50);var skipY=Math.floor(Math.random()*50);var plusMinusX=Math.floor(Math.random()*2);var plusMinusY=Math.floor(Math.random()*2);var newPosition={x:position.x+pos[plusMinusX]*skipX,y:position.y+pos[plusMinusY]*skipY};if(newPosition.x>bounds.w+bounds.l){newPosition.x=bounds.w;}if(newPosition.y>bounds.h+bounds.t){newPosition.y=bounds.h;}if(newPosition.x<bounds.l){newPosition.x=bounds.l;}if(newPosition.y<bounds.t){newPosition.y=bounds.t;}setPosition(_objectSpread({},newPosition));setColor(\"#5EFF00\");if(true){var _nodeRef$current,_nodeRef$current$pare;var children=(_nodeRef$current=nodeRef.current)===null||_nodeRef$current===void 0?void 0:(_nodeRef$current$pare=_nodeRef$current.parentNode)===null||_nodeRef$current$pare===void 0?void 0:_nodeRef$current$pare.childNodes;if(children){Object.keys(children).forEach(function(key){var _children$key;if(((_children$key=children[key])===null||_children$key===void 0?void 0:_children$key.nodeName)===\"DIV\"&&Math.abs(children[key].offsetLeft-nodeRef.current.offsetLeft)<10&&Math.abs(children[key].offsetTop-nodeRef.current.offsetTop)<10&&children[key].firstChild.id.localeCompare(\"\".concat(props.uid,\"+123\"))!==0){if(Math.random()>0.7){var creatures=props.creatures;var k=uuidv4();creatures.push(/*#__PURE__*/_jsx(Node,{uid:k,color:\"#FF0000\",screenRef:props.screenRef,setCreatures:props.setCreatures,creatures:creatures,bounds:bounds,children:/*#__PURE__*/_jsx(\"span\",{id:\"\".concat(k,\"+123\")},\"\".concat(k,\"+123\"))},k));props.setCreatures(_toConsumableArray(creatures));}//do mating here\n}});}}},100);return function(){clearInterval(timeInterval);};},[position]);useEffect(function(){if(nodeRef&&nodeRef.current){}},[nodeRef]);return/*#__PURE__*/_jsx(Card,{ref:nodeRef,style:{backgroundColor:color,height:size,width:size,top:position.y,left:position.x,position:\"absolute\",borderRadius:size/2,border:\"none\",transition:\"all 2s ease-in-out\"},children:props.children});};export default Node;","map":{"version":3,"sources":["E:/projects/Fun/genetic algorithm/src/components/node.js"],"names":["useEffect","useState","useRef","ReactDom","React","Card","useGlobalActions","useGlobalState","v4","uuidv4","Node","props","bounds","size","nodeRef","x","Math","floor","random","w","y","h","position","setPosition","color","setColor","timeInterval","setInterval","pos","skipX","skipY","plusMinusX","plusMinusY","newPosition","l","t","children","current","parentNode","childNodes","Object","keys","forEach","key","nodeName","abs","offsetLeft","offsetTop","firstChild","id","localeCompare","uid","creatures","k","push","screenRef","setCreatures","clearInterval","backgroundColor","height","width","top","left","borderRadius","border","transition"],"mappings":"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","sourcesContent":["import { useEffect, useState ,useRef} from \"react\";\r\nimport ReactDom from \"react-dom\"\r\nimport React from \"react\"\r\nimport {Card} from \"react-bootstrap\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport \"./node.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nconst Node = (props)=>{\r\n\r\n    const bounds = props.bounds;\r\n    const size = 10;\r\n    \r\n    \r\n    const nodeRef = useRef(null);\r\n    const [position, setPosition] = useState({\r\n      x: Math.floor(Math.random() * bounds.w),\r\n      y: Math.floor(Math.random() * bounds.h),\r\n    });\r\n    const [color,setColor] = useState(props.color?props.color:\"#5EFF00\")\r\n\r\n    \r\n    useEffect(()=>{\r\n        var timeInterval = setInterval(()=>{\r\n            \r\n            \r\n            \r\n            const pos = [1,-1]\r\n            const skipX = Math.floor(Math.random()*50);\r\n            const skipY = Math.floor(Math.random() * 50);\r\n\r\n            const plusMinusX = Math.floor(Math.random()*2);\r\n            const plusMinusY = Math.floor(Math.random() * 2);\r\n\r\n            const newPosition = {\r\n              x: position.x + pos[plusMinusX] * skipX,\r\n              y: position.y + pos[plusMinusY] * skipY,\r\n            };\r\n            if(newPosition.x > bounds.w + bounds.l){\r\n                newPosition.x = bounds.w;\r\n            }\r\n            if (newPosition.y > bounds.h + bounds.t) {\r\n              newPosition.y = bounds.h;\r\n            }\r\n            if (newPosition.x < bounds.l) {\r\n              newPosition.x = bounds.l;\r\n            }\r\n            if (newPosition.y< bounds.t) {\r\n              newPosition.y = bounds.t;\r\n            }\r\n\r\n            \r\n            setPosition({...newPosition});\r\n            setColor(\"#5EFF00\");\r\n            if(true){\r\n                const children = nodeRef.current?.parentNode?.childNodes;\r\n                if(children){\r\n                    Object.keys(children).forEach((key) => {\r\n                      if (\r\n                        children[key]?.nodeName === \"DIV\" &&\r\n                        Math.abs(\r\n                          children[key].offsetLeft - nodeRef.current.offsetLeft\r\n                        ) < 10 &&\r\n                        Math.abs(\r\n                          children[key].offsetTop - nodeRef.current.offsetTop\r\n                        ) < 10 &&\r\n                        children[key].firstChild.id.localeCompare(\r\n                          `${props.uid}+123`\r\n                        ) !== 0\r\n                      ) {\r\n                        if (Math.random() > 0.7) {\r\n                          \r\n                          const creatures = props.creatures;\r\n                          const k = uuidv4();\r\n                          creatures.push(\r\n                            <Node\r\n                              uid={k}\r\n                              key={k}\r\n                              color = \"#FF0000\"\r\n                              screenRef={props.screenRef}\r\n                              setCreatures={props.setCreatures}\r\n                              creatures={creatures}\r\n                              bounds={bounds}\r\n                            >\r\n                              <span key={`${k}+123`} id={`${k}+123`}></span>\r\n                            </Node>\r\n                          );\r\n                          props.setCreatures([...creatures]);\r\n                        }\r\n\r\n                        //do mating here\r\n                      }\r\n                    });\r\n                }\r\n                \r\n            }\r\n\r\n        },100);\r\n        return ()=>{\r\n            clearInterval(timeInterval);\r\n        }\r\n        \r\n    },[position])\r\n\r\n    useEffect(()=>{\r\n        if(nodeRef&&nodeRef.current){\r\n            \r\n        }\r\n    },[nodeRef])\r\n\r\n    \r\n    return (\r\n      <Card\r\n        ref={nodeRef}\r\n        style={{\r\n          backgroundColor: color,\r\n          height: size,\r\n          width: size,\r\n          top: position.y,\r\n          left: position.x,\r\n          position: \"absolute\",\r\n          borderRadius: size / 2,\r\n          border: \"none\",\r\n          transition: \"all 2s ease-in-out\",\r\n        }}\r\n      >\r\n        {props.children}\r\n      </Card>\r\n    );\r\n}\r\n\r\nexport default Node;"]},"metadata":{},"sourceType":"module"}