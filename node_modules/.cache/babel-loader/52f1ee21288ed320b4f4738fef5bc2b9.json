{"ast":null,"code":"import _toConsumableArray from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState,useRef}from\"react\";import ReactDom from\"react-dom\";import React from\"react\";import{Card}from\"react-bootstrap\";import{useGlobalActions,useGlobalState}from\"../context/globalContext\";import\"./node.css\";import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";var Node=function Node(props){var bounds=props.bounds;var size=5;var nodeRef=useRef(null);var _useGlobalState=useGlobalState(),status=_useGlobalState.status,speed=_useGlobalState.speed;var _useState=useState({x:Math.floor(Math.random()*bounds.w),y:Math.floor(Math.random()*bounds.h)}),_useState2=_slicedToArray(_useState,2),position=_useState2[0],setPosition=_useState2[1];var _useState3=useState(props.color?props.color:\"#5EFF00\"),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];useEffect(function(){if(status.localeCompare(\"Playing\")===0){var timeInterval=setInterval(function(){var pos=[1,-1];var skipX=Math.floor(Math.random()*100);var skipY=Math.floor(Math.random()*100);var plusMinusX=Math.floor(Math.random()*2);var plusMinusY=Math.floor(Math.random()*2);var newPosition={x:position.x+pos[plusMinusX]*skipX,y:position.y+pos[plusMinusY]*skipY};if(newPosition.x>bounds.w+bounds.l){newPosition.x=bounds.w;}if(newPosition.y>bounds.h+bounds.t){newPosition.y=bounds.h;}if(newPosition.x<bounds.l){newPosition.x=bounds.l;}if(newPosition.y<bounds.t){newPosition.y=bounds.t;}setPosition(_objectSpread({},newPosition));setColor(\"#5EFF00\");if(true){var _nodeRef$current,_nodeRef$current$pare;var children=(_nodeRef$current=nodeRef.current)===null||_nodeRef$current===void 0?void 0:(_nodeRef$current$pare=_nodeRef$current.parentNode)===null||_nodeRef$current$pare===void 0?void 0:_nodeRef$current$pare.childNodes;if(children){Object.keys(children).forEach(function(key){var _children$key;if(((_children$key=children[key])===null||_children$key===void 0?void 0:_children$key.nodeName)===\"DIV\"&&Math.abs(children[key].offsetLeft-nodeRef.current.offsetLeft)<10&&Math.abs(children[key].offsetTop-nodeRef.current.offsetTop)<10&&children[key].firstChild.id.localeCompare(\"\".concat(props.uid,\"+123\"))!==0){if(Math.random()>0.6){var creatures=props.creatures;var k=uuidv4();creatures.push(/*#__PURE__*/_jsx(Node,{uid:k,color:\"#FF0000\",screenRef:props.screenRef,setCreatures:props.setCreatures,creatures:creatures,bounds:bounds,children:/*#__PURE__*/_jsx(\"span\",{id:\"\".concat(k,\"+123\")},\"\".concat(k,\"+123\"))},k));props.setCreatures(_toConsumableArray(creatures));}//do mating here\n}});}}},Math.random()*5000/speed);return function(){clearInterval(timeInterval);};}},[position,status,speed]);useEffect(function(){if(nodeRef&&nodeRef.current){}},[nodeRef]);return/*#__PURE__*/_jsx(Card,{ref:nodeRef,style:{backgroundColor:color,height:size,width:size,top:position.y,left:position.x,position:\"absolute\",borderRadius:size/2,border:\"none\",transition:\"all 1s ease-in-out\"},children:props.children});};export default Node;","map":{"version":3,"sources":["E:/projects/Fun/genetic algorithm/src/components/node.js"],"names":["useEffect","useState","useRef","ReactDom","React","Card","useGlobalActions","useGlobalState","v4","uuidv4","Node","props","bounds","size","nodeRef","status","speed","x","Math","floor","random","w","y","h","position","setPosition","color","setColor","localeCompare","timeInterval","setInterval","pos","skipX","skipY","plusMinusX","plusMinusY","newPosition","l","t","children","current","parentNode","childNodes","Object","keys","forEach","key","nodeName","abs","offsetLeft","offsetTop","firstChild","id","uid","creatures","k","push","screenRef","setCreatures","clearInterval","backgroundColor","height","width","top","left","borderRadius","border","transition"],"mappings":"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","sourcesContent":["import { useEffect, useState ,useRef} from \"react\";\r\nimport ReactDom from \"react-dom\"\r\nimport React from \"react\"\r\nimport {Card} from \"react-bootstrap\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport \"./node.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nconst Node = (props)=>{\r\n\r\n    const bounds = props.bounds;\r\n    const size = 5;\r\n    \r\n    \r\n    const nodeRef = useRef(null);\r\n    const {status,speed} = useGlobalState();\r\n    const [position, setPosition] = useState({\r\n      x: Math.floor(Math.random() * bounds.w),\r\n      y: Math.floor(Math.random() * bounds.h),\r\n    });\r\n    const [color,setColor] = useState(props.color?props.color:\"#5EFF00\")\r\n\r\n    \r\n    useEffect(()=>{\r\n        if(status.localeCompare(\"Playing\")===0){\r\n            var timeInterval = setInterval(() => {\r\n              const pos = [1, -1];\r\n              const skipX = Math.floor(Math.random() * 100);\r\n              const skipY = Math.floor(Math.random() *100);\r\n\r\n              const plusMinusX = Math.floor(Math.random() * 2);\r\n              const plusMinusY = Math.floor(Math.random() * 2);\r\n\r\n              const newPosition = {\r\n                x: position.x + pos[plusMinusX] * skipX,\r\n                y: position.y + pos[plusMinusY] * skipY,\r\n              };\r\n              if (newPosition.x > bounds.w + bounds.l) {\r\n                newPosition.x = bounds.w;\r\n              }\r\n              if (newPosition.y > bounds.h + bounds.t) {\r\n                newPosition.y = bounds.h;\r\n              }\r\n              if (newPosition.x < bounds.l) {\r\n                newPosition.x = bounds.l;\r\n              }\r\n              if (newPosition.y < bounds.t) {\r\n                newPosition.y = bounds.t;\r\n              }\r\n\r\n              setPosition({ ...newPosition });\r\n              setColor(\"#5EFF00\");\r\n              if (true) {\r\n                const children = nodeRef.current?.parentNode?.childNodes;\r\n                if (children) {\r\n                  Object.keys(children).forEach((key) => {\r\n                    if (\r\n                      children[key]?.nodeName === \"DIV\" &&\r\n                      Math.abs(\r\n                        children[key].offsetLeft - nodeRef.current.offsetLeft\r\n                      ) < 10 &&\r\n                      Math.abs(\r\n                        children[key].offsetTop - nodeRef.current.offsetTop\r\n                      ) < 10 &&\r\n                      children[key].firstChild.id.localeCompare(\r\n                        `${props.uid}+123`\r\n                      ) !== 0\r\n                    ) {\r\n                      if (Math.random() > 0.6) {\r\n                        const creatures = props.creatures;\r\n                        const k = uuidv4();\r\n                        creatures.push(\r\n                          <Node\r\n                            uid={k}\r\n                            key={k}\r\n                            color=\"#FF0000\"\r\n                            screenRef={props.screenRef}\r\n                            setCreatures={props.setCreatures}\r\n                            creatures={creatures}\r\n                            bounds={bounds}\r\n                          >\r\n                            <span key={`${k}+123`} id={`${k}+123`}></span>\r\n                          </Node>\r\n                        );\r\n                        props.setCreatures([...creatures]);\r\n                      }\r\n\r\n                      //do mating here\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            },Math.random()*5000/speed);\r\n            return () => {\r\n              clearInterval(timeInterval);\r\n            };\r\n        }\r\n        \r\n        \r\n    },[position,status,speed])\r\n\r\n    useEffect(()=>{\r\n        if(nodeRef&&nodeRef.current){\r\n            \r\n        }\r\n    },[nodeRef])\r\n\r\n    \r\n    return (\r\n      <Card\r\n        ref={nodeRef}\r\n        style={{\r\n          backgroundColor: color,\r\n          height: size,\r\n          width: size,\r\n          top: position.y,\r\n          left: position.x,\r\n          position: \"absolute\",\r\n          borderRadius: size / 2,\r\n          border: \"none\",\r\n          transition: \"all 1s ease-in-out\",\r\n        }}\r\n      >\r\n        {props.children}\r\n      </Card>\r\n    );\r\n}\r\n\r\nexport default Node;"]},"metadata":{},"sourceType":"module"}