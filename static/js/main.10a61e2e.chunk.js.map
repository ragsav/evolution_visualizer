{"version":3,"sources":["logo.svg","context/globalContext.js","components/creature.js","components/statistics.js","components/earthQuake.js","components/volcana.js","components/radiation.js","components/screen.js","App.js","reportWebVitals.js","index.js"],"names":["GlobalStateContext","React","createContext","undefined","GlobalActionsContext","GlobalContextProvider","children","useState","status","setStatus","restarted","setRestart","speed","setSpeed","calamityType","setCalamityType","calamityPosition","setCalamityPosition","calamityDuration","setCalamityDuration","calamitySize","setCalamitySize","calamityAmplitude","setCalamityAmplitude","calamities","setCalamities","calamitiesOrg","useRef","useEffect","current","length","newUid","uid","uuidv4","calamity","id","type","position","duration","amplitude","size","start","Date","now","calamitiesTemp","push","addCalamity","interval","setInterval","l","i","localeCompare","splice","removeCalamityById","clearInterval","Provider","value","useGlobalState","context","useContext","Error","useGlobalActions","Creature","props","creatureRef","birth","color","setColor","className","setClassName","x","Math","floor","dim","w","random","left","y","h","top","setPosition","changePosition","xDiff","abs","yDiff","sqrt","pow","event","CustomEvent","detail","earthRef","dispatchEvent","checkCalamity","pos","skipX","skipY","plusMinusX","plusMinusY","newPosition","neighbours","neighbourHood","parentNode","childNodes","Object","keys","forEach","key","offsetLeft","offsetTop","getNeighbourHood","mother","candidates","ref","style","borderRadius","height","width","backgroundColor","transition","WebkitBoxShadow","boxShadow","ValueLabelComponent","open","Tooltip","enterTouchDelay","placement","title","Statisitcs","Card","padding","margin","border","ModalHeader","Row","Col","textAlign","fontSize","fontWeight","display","alignItems","justifyContent","IconButton","variant","onClick","e","preventDefault","closeStats","ButtonGroup","Button","disabled","Divider","Grid","container","spacing","item","xs","Slider","v","FormControl","InputLabel","Select","label","labelId","onChange","target","MenuItem","EarthQuake","animDom","ring1","ring2","ring3","mojs","Shape","parent","shape","fill","scale","0","radius","strokeWidth","30","stroke","delay","angle","easing","repeat","15","10","tune","play","Volcano","defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","options","Radiation","ring4","Earth","creatures","setCreatures","earthDimensions","setEarthDimensions","isStatsVisible","setIsStatsVisible","mouseOnStats","setMouseOnStats","createRef","creaturesRef","birthCache","addNewCreature","creaturesTemp","birthHandler","parents","birthCacheTemp","canGiveBirth","father","shift","newBirth","positionM","positionF","deathHandler","removeCreatureByUid","addEventListener","removeEventListener","InitializeCreatures","offsetWidth","offsetHeight","overflow","onMouseDown","clientX","button","clientY","removeRandom","map","creature","onMouseEnter","onMouseLeave","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.10a61e2e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { createRef, useEffect, useState, useRef } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst GlobalStateContext = React.createContext(undefined);\r\nconst GlobalActionsContext = React.createContext(undefined);\r\n\r\nconst GlobalContextProvider = ({ children }) => {\r\n  const [status, setStatus] = useState(\"Paused\");\r\n  const [restarted, setRestart] = useState(true);\r\n  const [speed, setSpeed] = useState(1);\r\n  // const [calamity, setCalamity] = useState(\"radiation\");\r\n\r\n  const [calamityType, setCalamityType] = useState(\"radiation\");\r\n  const [calamityPosition, setCalamityPosition] = useState(null);\r\n  const [calamityDuration, setCalamityDuration] = useState(10000);\r\n  const [calamitySize, setCalamitySize] = useState(100);\r\n  const [calamityAmplitude, setCalamityAmplitude] = useState(6);\r\n  const [calamities, setCalamities] = useState([]);\r\n\r\n  const calamitiesOrg = useRef([]);\r\n  \r\n\r\n\r\n  const [earthQuakePosition, setEarthQuakePosition] = useState(null);\r\n  const [earthQuakeDuration, setEarthQuakeDuration] = useState(10000);\r\n  const [earthQuakeAmplitude, setEarthQuakeAmplitude] = useState(4);\r\n  const [earthQuakeRadius, setEarthQuakeRadius] = useState(100);\r\n\r\n  const [volcanoPosition, setVolcanoPosition] = useState(null);\r\n  const [volcanoDuration, setVolcanoDuration] = useState(10000);\r\n  const [volcanoSize, setVolcanoSize] = useState(100);\r\n\r\n  const [radiationPosition, setRadiationPosition] = useState(null);\r\n  const [radiationDuration, setRadiationDuration] = useState(10000);\r\n  const [radiationAmplitude, setRadiationAmplitude] = useState(4);\r\n  const [radiationRadius, setRadiationRadius] = useState(100);\r\n  // useEffect(() => {\r\n  //   console.log(volcanoPosition);\r\n  // }, [volcanoPosition]);\r\n\r\n\r\n  function addCalamity()  {\r\n    const uid = uuidv4();\r\n    const calamity = {\r\n      id:uid,\r\n      type: calamityType,\r\n      position: calamityPosition,\r\n      duration: calamityDuration,\r\n      amplitude: calamityAmplitude,\r\n      size: calamitySize,\r\n      start:Date.now()\r\n    };\r\n\r\n    const calamitiesTemp = calamitiesOrg.current;\r\n    calamitiesTemp.push(calamity);\r\n    calamitiesOrg.current = calamitiesTemp;\r\n    setCalamities([...calamitiesTemp]);\r\n    return uid;\r\n  }\r\n\r\n  function removeCalamityById(id){\r\n    const calamitiesTemp = calamitiesOrg.current\r\n    const l = calamitiesTemp.length;\r\n    for(var i=0;i<l;i++){\r\n      if(calamitiesTemp[i].id.localeCompare(id)===0){\r\n        calamitiesTemp.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    calamitiesOrg.current = calamitiesTemp;\r\n    if(calamitiesTemp.length===0){\r\n      setCalamityPosition(null);\r\n    }\r\n    setCalamities([...calamitiesTemp]);\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    \r\n    if (calamitiesOrg.current.length < 5 && calamityPosition) {\r\n      const newUid = addCalamity();\r\n     \r\n      const interval = setInterval(() => {\r\n        removeCalamityById(newUid);\r\n      }, [calamityDuration]);\r\n      if (calamitiesOrg.current.length === 0) {\r\n        return () => {\r\n          clearInterval(interval);\r\n        };\r\n      }\r\n\r\n      \r\n      \r\n    }\r\n  }, [calamityPosition]);\r\n  return (\r\n    <GlobalStateContext.Provider\r\n      value={{\r\n        status,\r\n        speed,\r\n        restarted,\r\n        \r\n\r\n        calamityType,\r\n        calamityAmplitude,\r\n        calamityDuration,\r\n        calamityPosition,\r\n        calamitySize,\r\n        calamities,\r\n      }}\r\n    >\r\n      <GlobalActionsContext.Provider\r\n        value={{\r\n          setStatus,\r\n          setSpeed,\r\n          setRestart,\r\n          \r\n\r\n          setCalamityType,\r\n          setCalamityAmplitude,\r\n          setCalamityDuration,\r\n          setCalamityPosition,\r\n          setCalamitySize,\r\n          \r\n        }}\r\n      >\r\n        {children}\r\n      </GlobalActionsContext.Provider>\r\n    </GlobalStateContext.Provider>\r\n  );\r\n};\r\n\r\nconst useGlobalState = () => {\r\n  const context = React.useContext(GlobalStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useGlobalState error\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nconst useGlobalActions = () => {\r\n  const context = React.useContext(GlobalActionsContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useGlobalActions error\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nexport { useGlobalState, useGlobalActions, GlobalContextProvider };\r\n","import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nconst Creature = (props) => {\r\n  const { status, speed,calamities } = useGlobalState();\r\n  //   console.log(earthDimensions);\r\n\r\n  const creatureRef = useRef(null);\r\n  const size = 6;\r\n  const [color, setColor] = useState(\r\n    props.birth + 10000 > Date.now() ? \"#FF4489\" : \"#E8FF95\"\r\n  );\r\n\r\n  const [className, setClassName] = useState(\r\n    props.birth + 10000 > Date.now() ? \"babyCreature\" : \"adultCreature\"\r\n  );\r\n  const [position, setPosition] = useState({\r\n    x:props.x?props.x: Math.floor(props.dim.w * Math.random() + props.dim.left - size / 2),\r\n    y:props.y?props.y: Math.floor(props.dim.h * Math.random() + props.dim.top - size / 2),\r\n  });\r\n\r\n\r\n  function checkCalamity(){\r\n    // console.log(calamities.length)\r\n    if(calamities.length>0){\r\n\r\n      for(var i=0;i<calamities.length;i++){\r\n        const xDiff = Math.abs(position.x + size / 2 - calamities[i].position.x);\r\n        const yDiff = Math.abs(position.y + size / 2 - calamities[i].position.y);\r\n        if (\r\n          Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2)) < calamities[i].size\r\n        ) {\r\n          const event = new CustomEvent(\"death\", {\r\n            detail: { uid: props.uid },\r\n          });\r\n          props.earthRef?.current?.dispatchEvent(event);\r\n        }\r\n      }\r\n      \r\n    }\r\n    \r\n  }\r\n\r\n  function changePosition() {\r\n    checkCalamity();\r\n\r\n\r\n    const pos = [1, -1];\r\n    const skipX = Math.floor(Math.random() * speed);\r\n    const skipY = Math.floor(Math.random() * speed);\r\n\r\n    const plusMinusX = Math.floor(Math.random() * 2);\r\n    const plusMinusY = Math.floor(Math.random() * 2);\r\n\r\n    const newPosition = {\r\n      x: position.x + pos[plusMinusX] * skipX,\r\n      y: position.y + pos[plusMinusY] * skipY,\r\n    };\r\n\r\n    if (newPosition.x + size > props.dim.w + props.dim.left) {\r\n      newPosition.x = props.dim.w + props.dim.left - size;\r\n    }\r\n    if (newPosition.y + size > props.dim.h + props.dim.top) {\r\n      newPosition.y = props.dim.h + props.dim.top - size;\r\n    }\r\n    if (newPosition.x < props.dim.left) {\r\n      newPosition.x = props.dim.left;\r\n    }\r\n    if (newPosition.y < props.dim.top) {\r\n      newPosition.y = props.dim.top;\r\n    }\r\n\r\n    setPosition(newPosition);\r\n    setColor(props.birth + 10000 > Date.now() ? \"#FF4489\" : \"#E8FF95\");\r\n\r\n    setClassName(\r\n      props.birth + 10000 > Date.now() ? \"babyCreature\" : \"adultCreature\"\r\n    );\r\n    \r\n  }\r\n\r\n  function getNeighbourHood() {\r\n    const neighbourHood = {};\r\n    const neighbours = [];\r\n    if (creatureRef?.current) {\r\n      const children = creatureRef.current?.parentNode?.childNodes;\r\n      if (children) {\r\n        Object.keys(children).forEach((key) => {\r\n          if (\r\n            children[key]?.className.localeCompare(\"adultCreature\") === 0 &&\r\n            Math.abs(children[key].offsetLeft - position.x) < 10 &&\r\n            Math.abs(children[key].offsetTop - position.y) < 10 &&\r\n            children[key].id.localeCompare(props.uid) !== 0\r\n          ) {\r\n            neighbours.push(children[key]);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    neighbourHood.neighbours = neighbours;\r\n    return neighbourHood;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log(props.uid);\r\n    if (status.localeCompare(\"Playing\") === 0) {\r\n      const interval = setInterval(() => {\r\n        changePosition();\r\n        if(className.localeCompare(\"adultCreature\")===0){\r\n          const { neighbours } = getNeighbourHood();\r\n          if (neighbours.length > 0) {\r\n            const event = new CustomEvent(\"birth\", {\r\n              detail: {\r\n                mother: props.uid,\r\n                candidates: neighbours,\r\n                position: position,\r\n              },\r\n            });\r\n            props.earthRef?.current?.dispatchEvent(event);\r\n          }\r\n        }\r\n        \r\n      }, Math.floor((Math.random() * 500)) + 10);\r\n      return () => {\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n  }, [position, status, speed]);\r\n  return (\r\n    <div\r\n      className={className}\r\n      ref={creatureRef}\r\n      id={props.uid}\r\n      style={{\r\n        borderRadius: size / 2,\r\n        height: size,\r\n        width: size,\r\n        backgroundColor: color,\r\n        position: \"absolute\",\r\n        top: position.y,\r\n        left: position.x,\r\n        transition: \"all 0.5s ease-in-out\",\r\n        WebkitBoxShadow:\r\n          props.birth + 10000 > Date.now() ? \"0 0 10px #FF4489\" : \"none\",\r\n        boxShadow:\r\n         \r\n         \r\n         \r\n          props.birth + 10000 > Date.now() ? \"0 0 10px #FF4489\" : \"none\",\r\n      }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Creature;\r\n","import { Row, Card, Col, ButtonGroup, InputGroup } from \"react-bootstrap\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport ModalHeader from \"react-bootstrap/esm/ModalHeader\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n// import Cross from \"@material-ui/icons/Dehaze\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport {\r\n  Divider,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nconst Statisitcs = (props) => {\r\n  const {\r\n    setStatus,\r\n    setSpeed,\r\n    setRestart,\r\n    setCalamityType,\r\n    setCalamityAmplitude,\r\n    setCalamityDuration,\r\n    setCalamitySize,\r\n  } = useGlobalActions();\r\n  const {\r\n    status,\r\n    speed,\r\n    restarted,\r\n    calamityType,\r\n    calamityAmplitude,\r\n    calamityDuration,\r\n    calamitySize,\r\n  } = useGlobalState();\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        padding: 0,\r\n        margin: 4,\r\n        top: 4,\r\n        left: 4,\r\n        width: 300,\r\n        // zIndex: 10,\r\n\r\n        border: \"none\",\r\n        borderRadius: 2,\r\n      }}\r\n    >\r\n      <ModalHeader style={{ padding: 0, margin: 0 }}>\r\n        <Row style={{ padding: 4, margin: 0, width: \"100%\" }}>\r\n          <Col\r\n            style={{\r\n              padding: 2,\r\n              margin: 0,\r\n              textAlign: \"start\",\r\n              fontSize: 14,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            Statisitcs\r\n          </Col>\r\n          <Col\r\n            style={{\r\n              padding: 2,\r\n              margin: 0,\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"flex-end\",\r\n            }}\r\n          >\r\n            <IconButton\r\n              variant=\"outline-dark\"\r\n              style={{\r\n                padding: 2,\r\n                boxShadow: \"none\",\r\n                fontWeight: \"400\",\r\n\r\n                fontSize: 10,\r\n              }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                props.closeStats();\r\n              }}\r\n            >\r\n              <ClearIcon style={{ fontSize: 14 }}></ClearIcon>\r\n            </IconButton>\r\n          </Col>\r\n        </Row>\r\n      </ModalHeader>\r\n\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <ButtonGroup>\r\n          <Button\r\n            variant=\"dark\"\r\n            style={{\r\n              padding: \"2px 8px 2px 8px\",\r\n              boxShadow: \"none\",\r\n              fontSize: 12,\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setRestart(false);\r\n              status.localeCompare(\"Playing\") === 0\r\n                ? setStatus(\"Paused\")\r\n                : setStatus(\"Playing\");\r\n            }}\r\n          >\r\n            {status.localeCompare(\"Playing\") === 0 ? \"Pause\" : \"Play\"}\r\n          </Button>\r\n          <Button\r\n            //   disabled={status.localeCompare(\"Finished\") === 0}\r\n            disabled={restarted}\r\n            variant=\"dark\"\r\n            style={{\r\n              padding: \"2px 8px 2px 8px\",\r\n              boxShadow: \"none\",\r\n\r\n              fontSize: 12,\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setStatus(\"Paused\");\r\n              setRestart(true);\r\n            }}\r\n          >\r\n            Stop\r\n          </Button>\r\n        </ButtonGroup>\r\n      </Row>\r\n\r\n      <Divider></Divider>\r\n\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: 4,\r\n              margin: 0,\r\n              fontSize: 12,\r\n              fontWeight: \"500\",\r\n              textAlign: \"start\",\r\n            }}\r\n          >\r\n            Creature speed\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: \"4px 16px 4px 16px\",\r\n              margin: 0,\r\n              fontSize: 10,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\" }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={speed}\r\n              min={1}\r\n              max={100}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setSpeed(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n\r\n      <Divider></Divider>\r\n\r\n      <Row style={{ margin: 0, padding: \"8px 4px 4px 4px\" }}>\r\n        <FormControl\r\n          variant=\"outlined\"\r\n          style={{ width: \"100%\", padding: 0 }}\r\n          size=\"small\"\r\n        >\r\n          <InputLabel id=\"calamity-selector-label\" style={{}}>\r\n            Calamity\r\n          </InputLabel>\r\n          <Select\r\n            // id=\"calamity-selector\"\r\n            // defaultValue=\"volcano\"\r\n            // labelWidth={100}\r\n            label=\"Calamity\"\r\n            labelId=\"calamity-selector-label\"\r\n            value={calamityType}\r\n            onChange={(e) => {\r\n              e.preventDefault();\r\n              setCalamityType(e.target.value);\r\n            }}\r\n            style={{\r\n              padding: 0,\r\n              margin: 0,\r\n              fontSize: 14,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <MenuItem\r\n              value=\"none\"\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              None\r\n            </MenuItem>\r\n            <MenuItem\r\n              value=\"radiation\"\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              Radiation\r\n            </MenuItem>\r\n            <MenuItem\r\n              value=\"earthQuake\"\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              Earth Quake\r\n            </MenuItem>\r\n            <MenuItem\r\n              value=\"volcano\"\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              Volcano\r\n            </MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </Row>\r\n\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: 4,\r\n              margin: 0,\r\n              fontSize: 12,\r\n              fontWeight: \"500\",\r\n              textAlign: \"start\",\r\n            }}\r\n          >\r\n            Calamity size\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: \"4px 16px 4px 16px\",\r\n              margin: 0,\r\n              fontSize: 10,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\" }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={calamitySize}\r\n              min={10}\r\n              max={100}\r\n              step={1}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setCalamitySize(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n      <Divider></Divider>\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: 4,\r\n              margin: 0,\r\n              fontSize: 12,\r\n              fontWeight: \"500\",\r\n              textAlign: \"start\",\r\n            }}\r\n          >\r\n            Calamity amplitude\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: \"4px 16px 4px 16px\",\r\n              margin: 0,\r\n              fontSize: 10,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\" }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={calamityAmplitude}\r\n              min={1}\r\n              max={10}\r\n              step={1}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setCalamityAmplitude(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n      <Divider></Divider>\r\n\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: 4,\r\n              margin: 0,\r\n              fontSize: 12,\r\n              fontWeight: \"500\",\r\n              textAlign: \"start\",\r\n            }}\r\n          >\r\n            Calamity duration\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: \"4px 16px 4px 16px\",\r\n              margin: 0,\r\n              fontSize: 10,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\" }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={calamityDuration}\r\n              min={2000}\r\n              max={100000}\r\n              step={1000}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setCalamityDuration(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n      <Divider></Divider>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Statisitcs;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport mojs from \"@mojs/core\";\r\nconst EarthQuake = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const ring1 = useRef();\r\n  const ring2 = useRef();\r\n  const ring3 = useRef();\r\n\r\n  useEffect(() => {\r\n    if (animDom && animDom.current) {\r\n      ring1.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor(size / 3) },\r\n        strokeWidth: { 30: 0 },\r\n        stroke: \"#E96BFF\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring2.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((2 * size) / 3) },\r\n        strokeWidth: { 15: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring3.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: size },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring1.current.tune(position).play();\r\n      ring2.current.tune(position).play();\r\n      ring3.current.tune(position).play();\r\n    }\r\n  }, [animDom]);\r\n\r\n  return (\r\n    <div\r\n      ref={animDom}\r\n      className=\"EarthQuake\"\r\n      // class=\"shake-hard shake-constant\"\r\n      style={{ position: \"absolute\" }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default EarthQuake;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport animationData from \"../assets/volcana.json\";\r\nimport mojs from \"@mojs/core\";\r\nimport Lottie from \"react-lottie\";\r\nconst Volcano = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"Volcano\" style={{ position: \"absolute\" }} ref={animDom}>\r\n      <div\r\n        className=\"Volcano\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: position.y - size / 2,\r\n          left: position.x - size / 2,\r\n        }}\r\n      >\r\n        <Lottie\r\n          options={defaultOptions}\r\n          height={size}\r\n          width={size}\r\n          style={{ transition: \"all 2s linear\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Volcano;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\n\r\nimport mojs from \"@mojs/core\";\r\n\r\nimport animationData from \"../assets/radiation.json\";\r\n\r\nimport Lottie from \"react-lottie\";\r\nconst Radiation = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const ring1 = useRef();\r\n  const ring2 = useRef();\r\n  const ring3 = useRef();\r\n  const ring4 = useRef();\r\n\r\n  useEffect(() => {\r\n    if (animDom && animDom.current) {\r\n      ring1.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((4 * size) / 5) },\r\n        strokeWidth: { 30: 0 },\r\n        stroke: \"#E96BFF\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring2.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((2 * size) / 3) },\r\n        strokeWidth: { 15: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring3.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: size },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n      ring4.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((3 * size) / 4) },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring1.current.tune(position).play();\r\n      ring2.current.tune(position).play();\r\n      ring3.current.tune(position).play();\r\n      ring4.current.tune(position).play();\r\n    }\r\n  }, [animDom]);\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n  return (\r\n    <div ref={animDom} className=\"Radiation\" style={{ position: \"absolute\" }}>\r\n      {position ? (\r\n        <div\r\n          className=\"Volcano\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: position.y - size / 2,\r\n            left: position.x - size / 2,\r\n          }}\r\n        >\r\n          <Lottie\r\n            options={defaultOptions}\r\n            height={size}\r\n            width={size}\r\n            style={{ transition: \"all 2s linear\" }}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Radiation;\r\n","import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Creature from \"./creature\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport Statisitcs from \"./statistics\";\r\nimport EarthQuake from \"./earthQuake\";\r\nimport Volcano from \"./volcana\";\r\nimport Radiation from \"./radiation\";\r\n\r\n// const demo = Array.from(Array(100).keys());\r\n\r\nconst Earth = () => {\r\n  const {\r\n    restarted,\r\n    calamityType,\r\n    calamities\r\n    \r\n  } = useGlobalState();\r\n  const {\r\n    setCalamityPosition,\r\n  } = useGlobalActions();\r\n  const [creatures, setCreatures] = useState([]);\r\n  const [earthDimensions, setEarthDimensions] = useState(null);\r\n  const [isStatsVisible, setIsStatsVisible] = useState(false);\r\n  const [mouseOnStats, setMouseOnStats] = useState(false);\r\n  const earthRef = createRef();\r\n  const creaturesRef = useRef([]);\r\n  const birthCache = useRef([]);\r\n\r\n  \r\n\r\n  \r\n  function newBirth(parents) {\r\n    const birthCacheTemp = birthCache.current;\r\n    const l = birthCacheTemp.length;\r\n\r\n    var canGiveBirth = true;\r\n    for (var i = 0; i < l; i++) {\r\n      if (\r\n        (birthCacheTemp[i].mother.localeCompare(parents.mother) === 0 ||\r\n          birthCacheTemp[i].mother.localeCompare(parents.father) === 0) &&\r\n        (birthCacheTemp[i].father.localeCompare(parents.mother) === 0 ||\r\n          birthCacheTemp[i].father.localeCompare(parents.father) === 0)\r\n      ) {\r\n        // console.log(\"BirthCache hit!\", parents, birthCacheTemp);\r\n        canGiveBirth = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (birthCacheTemp.length === 0 || canGiveBirth) {\r\n      addNewCreature({ x: parents.x, y: parents.y });\r\n      birthCacheTemp.push({ ...parents });\r\n    }\r\n    if (birthCacheTemp.length > 100) {\r\n      birthCacheTemp.shift();\r\n    }\r\n    birthCache.current = birthCacheTemp;\r\n  }\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current && !earthDimensions) {\r\n      const birthHandler = (e) => {\r\n        if (e.detail) {\r\n          newBirth({\r\n            mother: e.detail.mother,\r\n            father: e.detail.candidates[0].id,\r\n            x:\r\n              Math.floor(\r\n                e.detail.position.x + e.detail.candidates[0].offsetLeft\r\n              ) / 2,\r\n            y:\r\n              Math.floor(\r\n                e.detail.position.y + e.detail.candidates[0].offsetTop\r\n              ) / 2,\r\n            positionM: e.detail.position,\r\n            positionF: {\r\n              x: e.detail.candidates[0].offsetLeft,\r\n              y: e.detail.candidates[0].offsetTop,\r\n            },\r\n          });\r\n        }\r\n      };\r\n      const deathHandler = (e) => {\r\n        if (e.detail) {\r\n          removeCreatureByUid(e.detail.uid);\r\n        }\r\n      };\r\n      earthRef.current.addEventListener(\"birth\", birthHandler);\r\n      earthRef.current.addEventListener(\"death\", deathHandler);\r\n      return () => {\r\n        earthRef?.current?.removeEventListener(\"birth\", birthHandler);\r\n        earthRef?.current?.removeEventListener(\"death\", deathHandler);\r\n      };\r\n    }\r\n  }, [earthRef, earthRef.current]);\r\n\r\n  function addNewCreature(props) {\r\n    const creaturesTemp = creaturesRef.current;\r\n    creaturesTemp.push({\r\n      uid: uuidv4(),\r\n      birth: Date.now(),\r\n      x: props ? props.x : null,\r\n      y: props ? props.y : null,\r\n    });\r\n    setCreatures([...creaturesTemp]);\r\n    creaturesRef.current = creaturesTemp;\r\n  }\r\n\r\n  function removeCreatureByUid(uid) {\r\n    const creaturesTemp = creaturesRef.current;\r\n    for (var i = 0; i < creaturesTemp.length; i++) {\r\n      if (creaturesTemp[i].uid.localeCompare(uid) === 0) {\r\n        creaturesTemp.splice(i, 1);\r\n        setCreatures([...creaturesTemp]);\r\n        creaturesRef.current = creaturesTemp;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  function removeRandom() {\r\n    const creaturesTemp = creaturesRef.current;\r\n    creaturesTemp.splice(\r\n      Math.floor(Math.random() * creaturesRef.current.length),\r\n      1\r\n    );\r\n    setCreatures([...creaturesTemp]);\r\n    creaturesRef.current = creaturesTemp;\r\n  }\r\n\r\n  function InitializeCreatures() {\r\n    creaturesRef.current = [];\r\n    for (var i = 0; i < 20; i++) {\r\n      addNewCreature();\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if (restarted) {\r\n      InitializeCreatures();\r\n    }\r\n  }, [restarted]);\r\n\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current && !earthDimensions) {\r\n      setEarthDimensions({\r\n        top: earthRef.current.offsetTop,\r\n        left: earthRef.current.offsetLeft,\r\n        w: earthRef.current.offsetWidth,\r\n        h: earthRef.current.offsetHeight,\r\n      });\r\n    }\r\n  }, [earthRef]);\r\n\r\n  \r\n  \r\n\r\n  \r\n  function handleEarthMouseDown(e) {\r\n    e.preventDefault();\r\n    if (isStatsVisible && e.clientX>320) {\r\n      setIsStatsVisible(false);\r\n    }\r\n    if (!mouseOnStats && !isStatsVisible) {\r\n      if (e.button === 0) {\r\n        if(calamityType.localeCompare(\"none\")!==0&&calamities.length<5){\r\n          \r\n          setCalamityPosition({\r\n            x: e.clientX - earthDimensions.left,\r\n            y: e.clientY - earthDimensions.top,\r\n          });\r\n        }\r\n      } else {\r\n        removeRandom();\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      id=\"earth\"\r\n      ref={earthRef}\r\n      style={{\r\n        backgroundColor: \"#222222\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        overflow: \"hidden\",\r\n      }}\r\n      onMouseDown={handleEarthMouseDown}\r\n    >\r\n      {calamities?calamities.map((calamity)=>{\r\n        if(calamity.type.localeCompare(\"earthQuake\")===0){\r\n          return (\r\n            <EarthQuake\r\n              key={`${calamity.id}+calamity`}\r\n              size={calamity.size}\r\n              amplitude={calamity.amplitude}\r\n              duration={calamity.duration}\r\n              position={calamity.position}\r\n            />\r\n          );\r\n        }\r\n        else if (calamity.type.localeCompare(\"volcano\") === 0) {\r\n          return (\r\n            <Volcano\r\n              key={`${calamity.id}+calamity`}\r\n              size={calamity.size}\r\n              amplitude={calamity.amplitude}\r\n              duration={calamity.duration}\r\n              position={calamity.position}\r\n            />\r\n          );\r\n        } else if (calamity.type.localeCompare(\"radiation\") === 0) {\r\n          return (\r\n            <Radiation\r\n              key={`${calamity.id}+calamity`}\r\n              size={calamity.size}\r\n              amplitude={calamity.amplitude}\r\n              duration={calamity.duration}\r\n              position={calamity.position}\r\n            />\r\n          );\r\n        }\r\n      }):null}\r\n      {earthRef && earthDimensions\r\n        ? creatures.map((creature) => {\r\n            return (\r\n              <Creature\r\n                birth={creature.birth}\r\n                key={creature.uid}\r\n                uid={creature.uid}\r\n                earthRef={earthRef}\r\n                dim={earthDimensions}\r\n                x={creature.x}\r\n                y={creature.y}\r\n              ></Creature>\r\n            );\r\n          })\r\n        : null}\r\n      {isStatsVisible === false ? (\r\n        <IconButton\r\n          onMouseEnter={(e) => {\r\n            e.preventDefault();\r\n            setMouseOnStats(true);\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.preventDefault();\r\n            setMouseOnStats(false);\r\n          }}\r\n          style={{ position: \"absolute\", top: 5, left: 5 }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setIsStatsVisible(true);\r\n          }}\r\n        >\r\n          <DehazeIcon style={{ color: \"white\" }}></DehazeIcon>\r\n        </IconButton>\r\n      ) : (\r\n        <Statisitcs\r\n          closeStats={() => {\r\n            setIsStatsVisible(false);\r\n            setMouseOnStats(false);\r\n          }}\r\n          style={{ position: \"absolute\", top: 5, left: 5 }}\r\n        ></Statisitcs>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Earth;\r\n","import logo from './logo.svg';\r\nimport './App.css';\r\nimport Ripples from \"react-ripples\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n// import Screen from './components/screen';\r\nimport { GlobalContextProvider } from './context/globalContext';\r\nimport Earth from \"./components/screen\";\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <GlobalContextProvider>\r\n        \r\n          <Earth></Earth>\r\n        \r\n      </GlobalContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}