{"ast":null,"code":"import _toConsumableArray from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createRef,useEffect,useRef,useState}from\"react\";import{Button,Card}from\"react-bootstrap\";import{useGlobalActions,useGlobalState}from\"../context/globalContext\";import Node from\"./node\";import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var demo=Array.from(Array(20).keys());var Screen=function Screen(){// const {ground} = useGlobalState();\nvar _useGlobalActions=useGlobalActions(),setStatus=_useGlobalActions.setStatus;var _useGlobalState=useGlobalState(),status=_useGlobalState.status;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),trueRef=_useState2[0],setTrueRef=_useState2[1];var screenRef=useRef(null);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),creatures=_useState4[0],setCreatures=_useState4[1];useEffect(function(){console.log(creatures.length);if(status.localeCompare(\"Playing\")===0&&Math.random()>0.7){var l=creatures.length;var index=Math.random()*l;var creaturesTemp=_toConsumableArray(creatures);creaturesTemp.splice(index,1);setCreatures(_toConsumableArray(creaturesTemp));}},[creatures]);useEffect(function(){if(screenRef){if(screenRef.current){setTrueRef(screenRef.current);demo.forEach(function(t,i){var k=uuidv4();creatures.push(/*#__PURE__*/_jsx(Node,{screenRef:screenRef,uid:k,setCreatures:setCreatures,creatures:creatures,bounds:{l:screenRef.current.offsetLeft,t:screenRef.current.offsetTop,w:screenRef.current.clientWidth,h:screenRef.current.clientHeight},children:/*#__PURE__*/_jsx(\"span\",{id:\"\".concat(k,\"+123\")},\"\".concat(k,\"+123\"))},k));});setCreatures(_toConsumableArray(creatures));}}},[screenRef]);return/*#__PURE__*/_jsxs(\"div\",{id:\"screen\",style:{height:\"100%\",width:\"100%\",backgroundColor:\"#1E1E1E\"},ref:screenRef,children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-light\",style:{padding:4,margin:0,top:5,left:5,position:\"absolute\",borderRadius:0,zIndex:10},onClick:function onClick(e){e.preventDefault();status.localeCompare(\"Playing\")===0?setStatus(\"Paused\"):setStatus(\"Playing\");},children:status}),trueRef?creatures:null]});};export default Screen;","map":{"version":3,"sources":["E:/projects/Fun/genetic algorithm/src/components/screen.js"],"names":["createRef","useEffect","useRef","useState","Button","Card","useGlobalActions","useGlobalState","Node","v4","uuidv4","demo","Array","from","keys","Screen","setStatus","status","trueRef","setTrueRef","screenRef","creatures","setCreatures","console","log","length","localeCompare","Math","random","l","index","creaturesTemp","splice","current","forEach","t","i","k","push","offsetLeft","offsetTop","w","clientWidth","h","clientHeight","height","width","backgroundColor","padding","margin","top","left","position","borderRadius","zIndex","e","preventDefault"],"mappings":"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","sourcesContent":["import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { Button, Card } from \"react-bootstrap\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport Node from \"./node\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst demo = Array.from(Array(20).keys());\r\nconst Screen = ()=>{\r\n\r\n    \r\n    // const {ground} = useGlobalState();\r\n    const { setStatus } = useGlobalActions();\r\n    const { status } = useGlobalState();\r\n    const [trueRef,setTrueRef] = useState(null);\r\n    const screenRef = useRef(null);\r\n    \r\n    const [creatures,setCreatures] = useState([])\r\n  \r\n    \r\n\r\n    \r\n\r\n\r\n\r\n    \r\n    \r\n\r\n    useEffect(()=>{\r\n        console.log(creatures.length)\r\n        if (\r\n          status.localeCompare(\"Playing\") === 0 &&\r\n          Math.random() > (0.7 )\r\n        ) {\r\n          const l = creatures.length;\r\n          const index = Math.random() * l;\r\n          const creaturesTemp = [...creatures];\r\n          creaturesTemp.splice(index, 1);\r\n          setCreatures([...creaturesTemp]);\r\n        }\r\n        \r\n    },[creatures])\r\n\r\n   \r\n    \r\n    useEffect(()=>{\r\n        if(screenRef){\r\n            if(screenRef.current){\r\n                setTrueRef(screenRef.current);\r\n                demo.forEach((t, i) => {\r\n                    const k = uuidv4();\r\n                  creatures.push(\r\n                    <Node\r\n                      screenRef={screenRef}\r\n                      uid={k}\r\n                      key={k}\r\n                      setCreatures={setCreatures}\r\n                      creatures={creatures}\r\n                      bounds={{\r\n                        l: screenRef.current.offsetLeft,\r\n                        t: screenRef.current.offsetTop,\r\n                        w: screenRef.current.clientWidth,\r\n                        h: screenRef.current.clientHeight,\r\n                      }}\r\n                    >\r\n                      <span key={`${k}+123`} id={`${k}+123`}></span>\r\n                    </Node>\r\n                  );\r\n                });\r\n                setCreatures([...creatures])\r\n            }\r\n        }\r\n    },[screenRef])\r\n\r\n    \r\n\r\n    \r\n\r\n    \r\n\r\n\r\n\r\n\r\n    return (\r\n      <div\r\n        id=\"screen\"\r\n        style={{ height: \"100%\", width: \"100%\", backgroundColor: \"#1E1E1E\" }}\r\n        ref={screenRef}\r\n      >\r\n        <Button\r\n        variant = \"outline-light\"\r\n          style={{\r\n            padding: 4,\r\n            margin: 0,\r\n            top: 5,\r\n            left: 5,\r\n            position: \"absolute\",\r\n            borderRadius:0,\r\n            zIndex:10\r\n          }}\r\n          onClick = {(e)=>{e.preventDefault();\r\n            status.localeCompare(\"Playing\")===0?setStatus(\"Paused\"):setStatus(\"Playing\")}}\r\n        >\r\n          {status}\r\n        </Button>\r\n        {trueRef ? creatures : null}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Screen;"]},"metadata":{},"sourceType":"module"}