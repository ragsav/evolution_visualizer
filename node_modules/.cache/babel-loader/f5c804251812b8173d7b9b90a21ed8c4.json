{"ast":null,"code":"import { Creature } from \"../creature\";\nexport function plagueInfectionToNeighbours(creatures) {\n  let n = creatures.current.length;\n\n  for (let i = 0; i < n; i++) {\n    const observer = creatures.current[i];\n\n    if (observer.isInfected) {\n      for (let j = 0; j < n; j++) {\n        const target = creatures.current[j];\n\n        if (observer.pos.subtr(target.pos).mag() < 20) {\n          target.infect();\n        }\n      }\n    }\n  }\n}\n\nfunction plagueInfectionOnMouseClick(creatures, mouse) {\n  const n = creatures.current.length;\n\n  for (let i = 0; i < n; i++) {\n    const observer = creatures.current[i];\n\n    if (observer.pos.subtr(mouse).mag() < 10) {\n      observer.infect();\n    }\n  }\n}\n\nexport function handleCalamityEffect(creatures, calamities, calamityType, mouse, setCalamityPosition) {\n  if (calamityType.localeCompare(\"plague\") === 0) {\n    plagueInfectionOnMouseClick(creatures, mouse);\n  } else if (calamityType.localeCompare(\"none\") !== 0 && calamities.length < 5) {\n    setCalamityPosition({\n      x: mouse.x,\n      y: mouse.y\n    });\n  }\n}","map":{"version":3,"sources":["E:/projects/Fun/genetic algorithm/src/components/gaFunctions/calamityEffect.js"],"names":["Creature","plagueInfectionToNeighbours","creatures","n","current","length","i","observer","isInfected","j","target","pos","subtr","mag","infect","plagueInfectionOnMouseClick","mouse","handleCalamityEffect","calamities","calamityType","setCalamityPosition","localeCompare","x","y"],"mappings":"AAAA,SAASA,QAAT,QAAyB,aAAzB;AAEA,OAAO,SAASC,2BAAT,CAAqCC,SAArC,EAAgD;AACrD,MAAIC,CAAC,GAAGD,SAAS,CAACE,OAAV,CAAkBC,MAA1B;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AAC1B,UAAMC,QAAQ,GAAGL,SAAS,CAACE,OAAV,CAAkBE,CAAlB,CAAjB;;AACA,QAAIC,QAAQ,CAACC,UAAb,EAAyB;AACvB,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,CAApB,EAAuBM,CAAC,EAAxB,EAA4B;AAC1B,cAAMC,MAAM,GAAGR,SAAS,CAACE,OAAV,CAAkBK,CAAlB,CAAf;;AACA,YAAIF,QAAQ,CAACI,GAAT,CAAaC,KAAb,CAAmBF,MAAM,CAACC,GAA1B,EAA+BE,GAA/B,KAAuC,EAA3C,EAA+C;AAC7CH,UAAAA,MAAM,CAACI,MAAP;AACD;AACF;AACF;AACF;AACF;;AAED,SAASC,2BAAT,CAAqCb,SAArC,EAAgDc,KAAhD,EAAuD;AACrD,QAAMb,CAAC,GAAGD,SAAS,CAACE,OAAV,CAAkBC,MAA5B;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AAC1B,UAAMC,QAAQ,GAAGL,SAAS,CAACE,OAAV,CAAkBE,CAAlB,CAAjB;;AACA,QAAIC,QAAQ,CAACI,GAAT,CAAaC,KAAb,CAAmBI,KAAnB,EAA0BH,GAA1B,KAAkC,EAAtC,EAA0C;AACxCN,MAAAA,QAAQ,CAACO,MAAT;AACD;AACF;AACF;;AAED,OAAO,SAASG,oBAAT,CACLf,SADK,EAELgB,UAFK,EAGLC,YAHK,EAILH,KAJK,EAKLI,mBALK,EAML;AACA,MAAID,YAAY,CAACE,aAAb,CAA2B,QAA3B,MAAyC,CAA7C,EAAgD;AAC9CN,IAAAA,2BAA2B,CAACb,SAAD,EAAYc,KAAZ,CAA3B;AACD,GAFD,MAEO,IACLG,YAAY,CAACE,aAAb,CAA2B,MAA3B,MAAuC,CAAvC,IACAH,UAAU,CAACb,MAAX,GAAoB,CAFf,EAGL;AACAe,IAAAA,mBAAmB,CAAC;AAClBE,MAAAA,CAAC,EAAEN,KAAK,CAACM,CADS;AAElBC,MAAAA,CAAC,EAAEP,KAAK,CAACO;AAFS,KAAD,CAAnB;AAID;AACF","sourcesContent":["import { Creature } from \"../creature\";\r\n\r\nexport function plagueInfectionToNeighbours(creatures) {\r\n  let n = creatures.current.length;\r\n  for (let i = 0; i < n; i++) {\r\n    const observer = creatures.current[i];\r\n    if (observer.isInfected) {\r\n      for (let j = 0; j < n; j++) {\r\n        const target = creatures.current[j];\r\n        if (observer.pos.subtr(target.pos).mag() < 20) {\r\n          target.infect();\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction plagueInfectionOnMouseClick(creatures, mouse) {\r\n  const n = creatures.current.length;\r\n  for (let i = 0; i < n; i++) {\r\n    const observer = creatures.current[i];\r\n    if (observer.pos.subtr(mouse).mag() < 10) {\r\n      observer.infect();\r\n    }\r\n  }\r\n}\r\n\r\nexport function handleCalamityEffect(\r\n  creatures,\r\n  calamities,\r\n  calamityType,\r\n  mouse,\r\n  setCalamityPosition\r\n) {\r\n  if (calamityType.localeCompare(\"plague\") === 0) {\r\n    plagueInfectionOnMouseClick(creatures, mouse);\r\n  } else if (\r\n    calamityType.localeCompare(\"none\") !== 0 &&\r\n    calamities.length < 5\r\n  ) {\r\n    setCalamityPosition({\r\n      x: mouse.x,\r\n      y: mouse.y,\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}