{"ast":null,"code":"export function matingPool(creatures) {\n  const vis = Array(creatures.current.length).fill(false);\n  const pairs = [];\n  const l = creatures.current.length;\n\n  for (let i = 0; i < l; i++) {\n    const observer = creatures.current[i];\n\n    if (!vis[i] && observer.gender == \"F\" && observer.isAdult && observer.isAbleToMate) {\n      vis[i] = true;\n\n      for (let j = i + 1; j < l; j++) {\n        const target = creatures.current[j];\n\n        if (!vis[j] && target.gender == \"M\" && target.isAdult && observer.pos.subtr(target.pos).mag() < 5) {\n          pairs.push({\n            mother: observer,\n            father: target\n          });\n          vis[j] = true;\n          break;\n        }\n      }\n    }\n  }\n\n  pairs.forEach(({\n    mother,\n    father\n  }) => {\n    let newBall = new Creature((mother.pos.x + father.pos.x) / 2, (mother.pos.y + father.pos.y) / 2, (mother.r + father.r) / 2, Math.random() > 0.5 ? \"F\" : \"M\", creatures);\n    mother.updateNotAbleToMate();\n  });\n}","map":{"version":3,"sources":["E:/projects/Fun/genetic algorithm/src/components/gaFunctions/mating.js"],"names":["matingPool","creatures","vis","Array","current","length","fill","pairs","l","i","observer","gender","isAdult","isAbleToMate","j","target","pos","subtr","mag","push","mother","father","forEach","newBall","Creature","x","y","r","Math","random","updateNotAbleToMate"],"mappings":"AAAA,OAAO,SAASA,UAAT,CAAoBC,SAApB,EAA+B;AACpC,QAAMC,GAAG,GAAGC,KAAK,CAACF,SAAS,CAACG,OAAV,CAAkBC,MAAnB,CAAL,CAAgCC,IAAhC,CAAqC,KAArC,CAAZ;AACA,QAAMC,KAAK,GAAG,EAAd;AACA,QAAMC,CAAC,GAAGP,SAAS,CAACG,OAAV,CAAkBC,MAA5B;;AAEA,OAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,CAApB,EAAuBC,CAAC,EAAxB,EAA4B;AAC1B,UAAMC,QAAQ,GAAGT,SAAS,CAACG,OAAV,CAAkBK,CAAlB,CAAjB;;AACA,QACE,CAACP,GAAG,CAACO,CAAD,CAAJ,IACAC,QAAQ,CAACC,MAAT,IAAmB,GADnB,IAEAD,QAAQ,CAACE,OAFT,IAGAF,QAAQ,CAACG,YAJX,EAKE;AACAX,MAAAA,GAAG,CAACO,CAAD,CAAH,GAAS,IAAT;;AACA,WAAK,IAAIK,CAAC,GAAGL,CAAC,GAAG,CAAjB,EAAoBK,CAAC,GAAGN,CAAxB,EAA2BM,CAAC,EAA5B,EAAgC;AAC9B,cAAMC,MAAM,GAAGd,SAAS,CAACG,OAAV,CAAkBU,CAAlB,CAAf;;AACA,YACE,CAACZ,GAAG,CAACY,CAAD,CAAJ,IACAC,MAAM,CAACJ,MAAP,IAAiB,GADjB,IAEAI,MAAM,CAACH,OAFP,IAGAF,QAAQ,CAACM,GAAT,CAAaC,KAAb,CAAmBF,MAAM,CAACC,GAA1B,EAA+BE,GAA/B,KAAuC,CAJzC,EAKE;AACAX,UAAAA,KAAK,CAACY,IAAN,CAAW;AAAEC,YAAAA,MAAM,EAAEV,QAAV;AAAoBW,YAAAA,MAAM,EAAEN;AAA5B,WAAX;AACAb,UAAAA,GAAG,CAACY,CAAD,CAAH,GAAS,IAAT;AACA;AACD;AACF;AACF;AACF;;AACDP,EAAAA,KAAK,CAACe,OAAN,CAAc,CAAC;AAAEF,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAD,KAAwB;AACpC,QAAIE,OAAO,GAAG,IAAIC,QAAJ,CACZ,CAACJ,MAAM,CAACJ,GAAP,CAAWS,CAAX,GAAeJ,MAAM,CAACL,GAAP,CAAWS,CAA3B,IAAgC,CADpB,EAEZ,CAACL,MAAM,CAACJ,GAAP,CAAWU,CAAX,GAAeL,MAAM,CAACL,GAAP,CAAWU,CAA3B,IAAgC,CAFpB,EAGZ,CAACN,MAAM,CAACO,CAAP,GAAWN,MAAM,CAACM,CAAnB,IAAwB,CAHZ,EAIZC,IAAI,CAACC,MAAL,KAAgB,GAAhB,GAAsB,GAAtB,GAA4B,GAJhB,EAKZ5B,SALY,CAAd;AAOAmB,IAAAA,MAAM,CAACU,mBAAP;AACD,GATD;AAUD","sourcesContent":["export function matingPool(creatures) {\r\n  const vis = Array(creatures.current.length).fill(false);\r\n  const pairs = [];\r\n  const l = creatures.current.length;\r\n\r\n  for (let i = 0; i < l; i++) {\r\n    const observer = creatures.current[i];\r\n    if (\r\n      !vis[i] &&\r\n      observer.gender == \"F\" &&\r\n      observer.isAdult &&\r\n      observer.isAbleToMate\r\n    ) {\r\n      vis[i] = true;\r\n      for (let j = i + 1; j < l; j++) {\r\n        const target = creatures.current[j];\r\n        if (\r\n          !vis[j] &&\r\n          target.gender == \"M\" &&\r\n          target.isAdult &&\r\n          observer.pos.subtr(target.pos).mag() < 5\r\n        ) {\r\n          pairs.push({ mother: observer, father: target });\r\n          vis[j] = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  pairs.forEach(({ mother, father }) => {\r\n    let newBall = new Creature(\r\n      (mother.pos.x + father.pos.x) / 2,\r\n      (mother.pos.y + father.pos.y) / 2,\r\n      (mother.r + father.r) / 2,\r\n      Math.random() > 0.5 ? \"F\" : \"M\",\r\n      creatures\r\n    );\r\n    mother.updateNotAbleToMate();\r\n  });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}