{"version":3,"sources":["logo.svg","context/globalContext.js","components/creature.js","context/themeContext.js","components/statistics.js","components/earthQuake.js","components/volcana.js","components/radiation.js","components/waterBody.js","components/screen.js","App.js","reportWebVitals.js","index.js"],"names":["GlobalStateContext","React","createContext","undefined","GlobalActionsContext","GlobalContextProvider","children","useState","initialPopulation","setInitialPopulation","status","setStatus","restarted","setRestart","speed","setSpeed","totalPopulation","setTotalPopulation","calamityType","setCalamityType","calamityPosition","setCalamityPosition","calamityDuration","setCalamityDuration","calamitySize","setCalamitySize","calamityAmplitude","setCalamityAmplitude","calamities","setCalamities","calamitiesOrg","useRef","resourcePosition","setResourcePosition","resourceType","setResourceType","resourceSize","setResourceSize","resources","setResources","resourcesOrg","useEffect","current","length","resource","id","uuidv4","type","position","size","resourcesTemp","push","addResource","newUid","uid","calamity","duration","amplitude","start","Date","now","calamitiesTemp","addCalamity","interval","setInterval","l","i","localeCompare","splice","removeCalamityById","clearInterval","Provider","value","removeResourceById","useGlobalState","context","useContext","Error","useGlobalActions","Creature","props","creatureRef","birth","gender","color","setColor","className","setClassName","x","Math","floor","dim","w","random","y","h","setPosition","selfDestroy","event","CustomEvent","detail","earthRef","dispatchEvent","doActivities","xDiff","abs","yDiff","sqrt","pow","checkCalamity","distance","checkResources","pos","skipX","skipY","plusMinusX","plusMinusY","newPosition","changePosition","maleNeighbours","femaleNeighbours","parentNode","childNodes","Object","keys","forEach","key","offsetLeft","offsetTop","getNeighbourHood","neighbour","mother","father","clientWidth","birthRequest","neighbourUID","destroyNeighbour","ref","style","borderRadius","height","width","backgroundColor","top","left","transition","WebkitBoxShadow","boxShadow","darkTheme","adultCreatureColor","babyCreatureColor","earthColor","optionsColor","optionsFontColor","optionsBorderColor","buttonTheme","ThemeStateContext","ThemeActionsContext","ThemeProvider","theme","setTheme","ValueLabelComponent","open","Tooltip","enterTouchDelay","placement","title","Statisitcs","useThemeState","Card","padding","overflowY","minWidth","border","Row","margin","ButtonGroup","Button","variant","fontSize","onClick","e","preventDefault","disabled","fontWeight","Divider","Grid","container","spacing","item","xs","textAlign","Slider","v","FormControl","borderColor","Select","onChange","target","MenuItem","EarthQuake","animDom","ring1","ring2","ring3","mojs","Shape","parent","shape","fill","scale","0","radius","strokeWidth","30","stroke","delay","angle","easing","repeat","15","10","tune","play","Volcano","defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","options","Radiation","ring4","WaterBody","Earth","creatures","setCreatures","setContextMenuPosition","earthDimensions","setEarthDimensions","createRef","creaturesRef","birthCache","addNewCreature","creaturesTemp","handleRightClick","clientX","clientY","offsetWidth","offsetHeight","console","log","addEventListener","removeEventListener","InitializeCreatures","birthHandler","a1","b1","a2","b2","birthCacheTemp","canGiveBirth","shift","newBirth","deathHandler","removeCreatureByUid","window","innerWidth","overflow","onMouseDown","button","map","creature","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8c675da2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { createRef, useEffect, useState, useRef } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst GlobalStateContext = React.createContext(undefined);\r\nconst GlobalActionsContext = React.createContext(undefined);\r\n\r\nconst GlobalContextProvider = ({ children }) => {\r\n  const [initialPopulation, setInitialPopulation] = useState(20);\r\n  const [status, setStatus] = useState(\"Paused\");\r\n  const [restarted, setRestart] = useState(true);\r\n  const [speed, setSpeed] = useState(1);\r\n  const [totalPopulation, setTotalPopulation] = useState(20);\r\n  // const [calamity, setCalamity] = useState(\"radiation\");\r\n\r\n  const [calamityType, setCalamityType] = useState(\"none\");\r\n  const [calamityPosition, setCalamityPosition] = useState(null);\r\n  const [calamityDuration, setCalamityDuration] = useState(10000);\r\n  const [calamitySize, setCalamitySize] = useState(100);\r\n  const [calamityAmplitude, setCalamityAmplitude] = useState(6);\r\n  const [calamities, setCalamities] = useState([]);\r\n\r\n  const calamitiesOrg = useRef([]);\r\n\r\n\r\n\r\n\r\n  \r\n  const [resourcePosition, setResourcePosition] = useState(null);\r\n  const [resourceType,setResourceType] = useState(\"none\");\r\n  const [resourceSize,setResourceSize] = useState(70);\r\n  const [resources, setResources] = useState([]);\r\n  const resourcesOrg = useRef([]);\r\n  \r\n\r\n\r\n  \r\n  \r\n\r\n  function addResource() {\r\n    const uid = uuidv4();\r\n    const resource = {\r\n      id: uid,\r\n      type:resourceType,\r\n      position: resourcePosition,\r\n      size:resourceSize\r\n    };\r\n\r\n    const resourcesTemp = resourcesOrg.current;\r\n    resourcesTemp.push(resource);\r\n    resourcesOrg.current = resourcesTemp;\r\n    setResources([...resourcesTemp]);\r\n  }\r\n\r\n  function addCalamity()  {\r\n    const uid = uuidv4();\r\n    const calamity = {\r\n      id:uid,\r\n      type: calamityType,\r\n      position: calamityPosition,\r\n      duration: calamityDuration,\r\n      amplitude: calamityAmplitude,\r\n      size: calamitySize,\r\n      start:Date.now()\r\n    };\r\n\r\n    const calamitiesTemp = calamitiesOrg.current;\r\n    calamitiesTemp.push(calamity);\r\n    calamitiesOrg.current = calamitiesTemp;\r\n    setCalamities([...calamitiesTemp]);\r\n    return uid;\r\n  }\r\n\r\n  function removeResourceById(id){\r\n    const resourcesTemp = resourcesOrg.current;\r\n    const l = resourcesTemp.length;\r\n    for (var i = 0; i < l; i++) {\r\n      if (resourcesTemp[i].id.localeCompare(id) === 0) {\r\n        resourcesTemp.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    resourcesOrg.current = resourcesTemp;\r\n    if (resourcesTemp.length === 0) {\r\n      setResourcePosition(null);\r\n    }\r\n    setResources([...resourcesTemp]);\r\n  }\r\n\r\n  function removeCalamityById(id){\r\n    const calamitiesTemp = calamitiesOrg.current\r\n    const l = calamitiesTemp.length;\r\n    for(var i=0;i<l;i++){\r\n      if(calamitiesTemp[i].id.localeCompare(id)===0){\r\n        calamitiesTemp.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    calamitiesOrg.current = calamitiesTemp;\r\n    if(calamitiesTemp.length===0){\r\n      setCalamityPosition(null);\r\n    }\r\n    setCalamities([...calamitiesTemp]);\r\n    \r\n  }\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    if (resourcesOrg.current.length < 5 && resourcePosition) {\r\n      addResource();\r\n    }\r\n  }, [resourcePosition]);\r\n\r\n  useEffect(() => {\r\n    if (calamitiesOrg.current.length < 5 && calamityPosition) {\r\n      const newUid = addCalamity();\r\n\r\n      const interval = setInterval(() => {\r\n        removeCalamityById(newUid);\r\n      }, [calamityDuration]);\r\n      if (calamitiesOrg.current.length === 0) {\r\n        return () => {\r\n          clearInterval(interval);\r\n        };\r\n      }\r\n    }\r\n  }, [calamityPosition]);\r\n\r\n  return (\r\n    <GlobalStateContext.Provider\r\n      value={{\r\n        initialPopulation,\r\n        status,\r\n        speed,\r\n        restarted,\r\n        totalPopulation,\r\n        calamityType,\r\n        calamityAmplitude,\r\n        calamityDuration,\r\n        calamityPosition,\r\n        calamitySize,\r\n        calamities,\r\n        resourcePosition,\r\n        resources,\r\n        resourceType,\r\n        resourceSize,\r\n      }}\r\n    >\r\n      <GlobalActionsContext.Provider\r\n        value={{\r\n          setInitialPopulation,\r\n          setStatus,\r\n          setSpeed,\r\n          setRestart,\r\n          setTotalPopulation,\r\n          setCalamityType,\r\n          setCalamityAmplitude,\r\n          setCalamityDuration,\r\n          setCalamityPosition,\r\n          setCalamitySize,\r\n          removeResourceById,\r\n          setResourcePosition,\r\n          setResourceType,\r\n          setResourceSize,\r\n        }}\r\n      >\r\n        {children}\r\n      </GlobalActionsContext.Provider>\r\n    </GlobalStateContext.Provider>\r\n  );\r\n};\r\n\r\nconst useGlobalState = () => {\r\n  const context = React.useContext(GlobalStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useGlobalState error\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nconst useGlobalActions = () => {\r\n  const context = React.useContext(GlobalActionsContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useGlobalActions error\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nexport { useGlobalState, useGlobalActions, GlobalContextProvider };\r\n","import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\n\r\n\r\n\r\n\r\n\r\nconst Creature = (props) => {\r\n  const { status, speed, calamities, resources ,totalPopulation} = useGlobalState();\r\n  const creatureRef = useRef(null);\r\n  const size = useRef(props.size ? props.size : 6);\r\n  const [color, setColor] = useState(\r\n    props.birth + 10000 > Date.now()\r\n      ? \"#44FFE3\"\r\n      : props.gender.localeCompare(\"M\") === 0\r\n      ? \"#E8FF95\"\r\n      : \"#FF4489\"\r\n  );\r\n  const [className, setClassName] = useState(\r\n    props.birth + 10000 > Date.now() ? \"babyCreature\" : \"adultCreature\"\r\n  );\r\n  const [position, setPosition] = useState({\r\n    x: props.x\r\n      ? props.x\r\n      : Math.floor((props.dim.w - 20) * Math.random() - size.current / 2 + 10),\r\n    y: props.y\r\n      ? props.y\r\n      : Math.floor((props.dim.h - 20) * Math.random() - size.current / 2 + 10),\r\n  });\r\n\r\n  function increaseSize() {\r\n    size.current = 10;\r\n  }\r\n\r\n  //destroy self\r\n  function selfDestroy() {\r\n    const event = new CustomEvent(\"death\", {\r\n      detail: { uid: props.uid },\r\n    });\r\n    props.earthRef?.current?.dispatchEvent(event);\r\n  }\r\n\r\n  function destroyNeighbour(neighbourUID) {\r\n    const event = new CustomEvent(\"death\", {\r\n      detail: { uid: neighbourUID },\r\n    });\r\n    props.earthRef?.current?.dispatchEvent(event);\r\n  }\r\n\r\n  //check if there is any calamity nearby\r\n  function checkCalamity() {\r\n    if (calamities.length > 0) {\r\n      for (var i = 0; i < calamities.length; i++) {\r\n        const xDiff = Math.abs(\r\n          position.x + size.current / 2 - calamities[i].position.x\r\n        );\r\n        const yDiff = Math.abs(\r\n          position.y + size.current / 2 - calamities[i].position.y\r\n        );\r\n        const distance = Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2));\r\n\r\n        if (distance < calamities[i].size) {\r\n          selfDestroy();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  //check if there is any water body nearby\r\n  function checkResources() {\r\n    if (resources.length > 0) {\r\n      for (var i = 0; i < resources.length; i++) {\r\n        const xDiff = Math.abs(\r\n          position.x + size.current / 2 - resources[i].position.x\r\n        );\r\n        const yDiff = Math.abs(\r\n          position.y + size.current / 2 - resources[i].position.y\r\n        );\r\n\r\n        const distance = Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2));\r\n\r\n        if (distance < resources[i].size / 2 + 30) {\r\n          if (distance < resources[i].size / 2) {\r\n            //do something here asumming the creature becomes wwater animal\r\n          } else {\r\n            increaseSize();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function changeColor() {\r\n    if (\r\n      props.birth + 10000 < Date.now() &&\r\n      color.localeCompare(\"#44FFE3\") === 0\r\n    )\r\n      setColor(props.gender.localeCompare(\"M\") === 0 ? \"#E8FF95\" : \"#FF4489\");\r\n  }\r\n\r\n  function changeClassName() {\r\n    if (\r\n      props.birth + 10000 < Date.now() &&\r\n      className.localeCompare(\"babyCreature\") === 0\r\n    )\r\n      setClassName(\"adultCreature\");\r\n  }\r\n\r\n  function canReproduce() {\r\n    if (className.localeCompare(\"adultCreature\") === 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function checkIfOldEnoughToDie(){\r\n    if(Date.now()>props.birth+50000&&Math.random()>0.97){\r\n      selfDestroy();\r\n    }\r\n  }\r\n  //change position randomly *update to tendency based position change*\r\n  function changePosition() {\r\n    const pos = [1, -1];\r\n    const skipX = Math.floor(Math.random() * speed);\r\n    const skipY = Math.floor(Math.random() * speed);\r\n\r\n    const plusMinusX = Math.floor(Math.random() * 2);\r\n    const plusMinusY = Math.floor(Math.random() * 2);\r\n\r\n    const newPosition = {\r\n      x: position.x + pos[plusMinusX] * skipX,\r\n      y: position.y + pos[plusMinusY] * skipY,\r\n    };\r\n\r\n    if (newPosition.x + size.current + 10 > props.dim.w) {\r\n      newPosition.x = props.dim.w - size.current - 10;\r\n    }\r\n    if (newPosition.y + size.current + 10 > props.dim.h) {\r\n      newPosition.y = props.dim.h - size.current - 10;\r\n    }\r\n    if (newPosition.x < 10) {\r\n      newPosition.x = 10;\r\n    }\r\n    if (newPosition.y < 10) {\r\n      newPosition.y = 10;\r\n    }\r\n\r\n    setPosition(newPosition);\r\n  }\r\n\r\n  //get all neighbouring adults\r\n  function getNeighbourHood() {\r\n    \r\n    const maleNeighbours = [];\r\n    const femaleNeighbours = [];\r\n    if (creatureRef?.current) {\r\n      const children = creatureRef.current?.parentNode?.childNodes;\r\n      if (children) {\r\n        Object.keys(children).forEach((key) => {\r\n          if (\r\n            children[key]?.className.localeCompare(\"adultCreature\") === 0 &&\r\n            Math.abs(children[key].offsetLeft - position.x) < 10 &&\r\n            Math.abs(children[key].offsetTop - position.y) < 10 &&\r\n            children[key].id.localeCompare(props.uid) !== 0\r\n          ) {\r\n            if(children[key].id[0].localeCompare(\"F\")===0){\r\n              femaleNeighbours.push(children[key]);\r\n            }else{\r\n               maleNeighbours.push(children[key]);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    const neighbourHood = {maleNeighbours,femaleNeighbours};\r\n    return neighbourHood;\r\n  }\r\n\r\n  //send birth request to earth\r\n  function birthRequest(neighbour) {\r\n    const mother = { id: props.uid, position: position, size: size.current };\r\n    const father = {\r\n      id: neighbour.id,\r\n      position: {\r\n        x: neighbour.offsetLeft,\r\n        y: neighbour.offsetTop,\r\n      },\r\n      size: neighbour.clientWidth,\r\n    };\r\n\r\n    const event = new CustomEvent(\"birth\", {\r\n      detail: { mother, father },\r\n    });\r\n    props.earthRef?.current?.dispatchEvent(event);\r\n  }\r\n\r\n  //regular activity function\r\n  function doActivities() {\r\n    checkIfOldEnoughToDie()\r\n    checkCalamity();\r\n    checkResources();\r\n\r\n    changePosition();\r\n    changeColor();\r\n    changeClassName();\r\n\r\n    const { maleNeighbours,femaleNeighbours } = getNeighbourHood();\r\n    if(props.uid[0].localeCompare(\"F\")===0){\r\n      if(canReproduce()&&maleNeighbours.length>0){\r\n        birthRequest(maleNeighbours[0]);\r\n      }\r\n    }else{\r\n      if (maleNeighbours.length>0 && maleNeighbours[0].clientWidth < size.current){\r\n        destroyNeighbour(maleNeighbours[0].id);\r\n      }\r\n    }\r\n\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    if (status.localeCompare(\"Playing\") === 0) {\r\n      const interval = setInterval(() => {\r\n        doActivities();\r\n      }, Math.floor(Math.random() * 500) + 10);\r\n\r\n      \r\n      return () => {\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n  }, [position, status, speed]);\r\n\r\n  \r\n  return (\r\n    <div\r\n      className={className}\r\n      ref={creatureRef}\r\n      id={props.uid}\r\n      style={{\r\n        borderRadius: size.current / 2,\r\n        height: size.current,\r\n        width: size.current,\r\n        backgroundColor: color,\r\n        position: \"absolute\",\r\n        top: position.y,\r\n        left: position.x,\r\n        transition: \"all 0.5s ease-in-out\",\r\n        WebkitBoxShadow:\r\n          props.birth + 10000 > Date.now() ? \"0 0 10px #44FFE3\" : \"none\",\r\n        boxShadow:\r\n          props.birth + 10000 > Date.now() ? \"0 0 10px #44FFE3\" : \"none\",\r\n      }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Creature;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst darkTheme = {\r\n  adultCreatureColor: \"#FF4489\",\r\n  babyCreatureColor: \"#E8FF95\",\r\n  earthColor: \"#2A2A2A\",\r\n  optionsColor: \"#FFFFFF\",\r\n  optionsFontColor: \"#545454\",\r\n  optionsBorderColor: \"#ACACAC\",\r\n  buttonTheme: \"dark\",\r\n};\r\nconst ThemeStateContext = React.createContext(undefined);\r\nconst ThemeActionsContext = React.createContext(undefined);\r\n\r\nconst ThemeProvider = ({ children }) => {\r\n  const [theme, setTheme] = useState(darkTheme);\r\n\r\n  return (\r\n    <ThemeStateContext.Provider\r\n      value={{\r\n        theme,\r\n      }}\r\n    >\r\n      <ThemeActionsContext.Provider\r\n        value={{\r\n          setTheme,\r\n        }}\r\n      >\r\n        {children}\r\n      </ThemeActionsContext.Provider>\r\n    </ThemeStateContext.Provider>\r\n  );\r\n};\r\n\r\nconst useThemeState = () => {\r\n  const context = React.useContext(ThemeStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useThemeState must be used within a ThemeProvider\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nconst useThemeActions = () => {\r\n  const context = React.useContext(ThemeActionsContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useThemeActions must be used within a ThemeProvider\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nexport { useThemeState, useThemeActions, ThemeProvider };\r\n","import { Row, Card, ButtonGroup } from \"react-bootstrap\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport { useThemeState } from \"../context/themeContext\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport {\r\n  Divider,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nconst Statisitcs = (props) => {\r\n  const {\r\n    setInitialPopulation,\r\n    setStatus,\r\n    setSpeed,\r\n    setRestart,\r\n    setCalamityType,\r\n    setCalamityAmplitude,\r\n    setCalamityDuration,\r\n    setCalamitySize,\r\n    setResourceType,\r\n    setResourceSize,\r\n  } = useGlobalActions();\r\n  const {\r\n    initialPopulation,\r\n    status,\r\n    speed,\r\n    restarted,\r\n    totalPopulation,\r\n    calamityType,\r\n    calamityAmplitude,\r\n    calamityDuration,\r\n    calamitySize,\r\n    resourceType,\r\n    resourceSize,\r\n  } = useGlobalState();\r\n\r\n  const { theme } = useThemeState();\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        padding: 4,\r\n        borderRadius: 0,\r\n        width: 300,\r\n        overflowY: \"scroll\",\r\n        height: \"100%\",\r\n        minWidth: 300,\r\n        border: \"none\",\r\n        backgroundColor: theme.optionsColor,\r\n      }}\r\n    >\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <ButtonGroup>\r\n          <Button\r\n            variant={theme.buttonTheme}\r\n            style={{\r\n              padding: \"2px 8px 2px 8px\",\r\n              boxShadow: \"none\",\r\n              fontSize: 12,\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setRestart(false);\r\n              status.localeCompare(\"Playing\") === 0\r\n                ? setStatus(\"Paused\")\r\n                : setStatus(\"Playing\");\r\n            }}\r\n          >\r\n            {status.localeCompare(\"Playing\") === 0 ? \"Pause\" : \"Play\"}\r\n          </Button>\r\n          <Button\r\n            disabled={restarted}\r\n            variant={theme.buttonTheme}\r\n            style={{\r\n              padding: \"2px 8px 2px 8px\",\r\n              boxShadow: \"none\",\r\n              fontSize: 12,\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setStatus(\"Paused\");\r\n              setRestart(true);\r\n            }}\r\n          >\r\n            Stop\r\n          </Button>\r\n        </ButtonGroup>\r\n        <span style={{fontWeight:\"600\",fontSize:12,padding:2,margin:2}}>{`Total Population : ${totalPopulation}`}</span>\r\n      </Row>\r\n\r\n      <Divider style={{ backgroundColor: theme.optionsBorderColor }}></Divider>\r\n\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: 4,\r\n              margin: 0,\r\n              fontSize: 12,\r\n              fontWeight: \"500\",\r\n              textAlign: \"start\",\r\n              color: theme.optionsFontColor,\r\n            }}\r\n          >\r\n            Initial Population\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: \"4px 16px 4px 16px\",\r\n              margin: 0,\r\n              fontSize: 10,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\", color: theme.optionsFontColor }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={initialPopulation}\r\n              min={1}\r\n              max={200}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setInitialPopulation(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n\r\n      <Divider style={{ backgroundColor: theme.optionsBorderColor }}></Divider>\r\n\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: 4,\r\n              margin: 0,\r\n              fontSize: 12,\r\n              fontWeight: \"500\",\r\n              textAlign: \"start\",\r\n              color: theme.optionsFontColor,\r\n            }}\r\n          >\r\n            Creature speed\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={6}\r\n            style={{\r\n              padding: \"4px 16px 4px 16px\",\r\n              margin: 0,\r\n              fontSize: 10,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\", color: theme.optionsFontColor }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={speed}\r\n              min={1}\r\n              max={100}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setSpeed(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n\r\n      <div\r\n        style={{\r\n          borderRadius: 4,\r\n          border: `1px solid ${theme.optionsBorderColor}`,\r\n          padding: 2,\r\n          margin: 2,\r\n        }}\r\n      >\r\n        <Row style={{ margin: 0, padding: \"8px 4px 4px 4px\" }}>\r\n          <FormControl\r\n            // variant=\"outlined\"\r\n            style={{\r\n              width: \"100%\",\r\n              padding: 0,\r\n              borderColor: theme.optionsBorderColor,\r\n            }}\r\n            size=\"small\"\r\n          >\r\n            <Select\r\n              value={calamityType}\r\n              onChange={(e) => {\r\n                e.preventDefault();\r\n                setResourceType(\"none\");\r\n                setCalamityType(e.target.value);\r\n              }}\r\n              style={{\r\n                padding: 0,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"600\",\r\n                borderRadius: 4,\r\n                color: theme.optionsFontColor,\r\n                border: `1px solid ${theme.optionsBorderColor}`,\r\n              }}\r\n            >\r\n              <MenuItem\r\n                value=\"none\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                None\r\n              </MenuItem>\r\n              <MenuItem\r\n                value=\"radiation\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                Radiation\r\n              </MenuItem>\r\n              <MenuItem\r\n                value=\"earthQuake\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                Earth Quake\r\n              </MenuItem>\r\n              <MenuItem\r\n                value=\"volcano\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                Volcano\r\n              </MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Row>\r\n\r\n        <Row style={{ margin: 0, padding: 4 }}>\r\n          <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n                textAlign: \"start\",\r\n                color: theme.optionsFontColor,\r\n              }}\r\n            >\r\n              Calamity size\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: \"4px 16px 4px 16px\",\r\n                margin: 0,\r\n                fontSize: 10,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              <Slider\r\n                style={{\r\n                  boxShadow: \"none\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n                style={{ padding: 0 }}\r\n                ValueLabelComponent={ValueLabelComponent}\r\n                value={calamitySize}\r\n                min={10}\r\n                max={500}\r\n                step={1}\r\n                onChange={(e, v) => {\r\n                  e.preventDefault();\r\n                  setCalamitySize(v);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Row>\r\n\r\n        \r\n\r\n        <Row style={{ margin: 0, padding: 4 }}>\r\n          <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n                textAlign: \"start\",\r\n                color: theme.optionsFontColor,\r\n              }}\r\n            >\r\n              Calamity amplitude\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: \"4px 16px 4px 16px\",\r\n                margin: 0,\r\n                fontSize: 10,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              <Slider\r\n                style={{\r\n                  boxShadow: \"none\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n                style={{ padding: 0 }}\r\n                ValueLabelComponent={ValueLabelComponent}\r\n                value={calamityAmplitude}\r\n                min={1}\r\n                max={10}\r\n                step={1}\r\n                onChange={(e, v) => {\r\n                  e.preventDefault();\r\n                  setCalamityAmplitude(v);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Row>\r\n\r\n        \r\n\r\n        <Row style={{ margin: 0, padding: 4 }}>\r\n          <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n                textAlign: \"start\",\r\n                color: theme.optionsFontColor,\r\n              }}\r\n            >\r\n              Calamity duration\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: \"4px 16px 4px 16px\",\r\n                margin: 0,\r\n                fontSize: 10,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              <Slider\r\n                style={{\r\n                  boxShadow: \"none\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n                style={{ padding: 0 }}\r\n                ValueLabelComponent={ValueLabelComponent}\r\n                value={calamityDuration}\r\n                min={2000}\r\n                max={100000}\r\n                step={1000}\r\n                onChange={(e, v) => {\r\n                  e.preventDefault();\r\n                  setCalamityDuration(v);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Row>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          borderRadius: 4,\r\n          border: `1px solid ${theme.optionsBorderColor}`,\r\n          padding: 2,\r\n          margin: 2,\r\n        }}\r\n      >\r\n        <Row style={{ margin: 0, padding: \"8px 4px 4px 4px\" }}>\r\n          <FormControl\r\n            \r\n            style={{ width: \"100%\", padding: 0 }}\r\n            size=\"small\"\r\n          >\r\n            <Select\r\n              value={resourceType}\r\n              onChange={(e) => {\r\n                e.preventDefault();\r\n                setCalamityType(\"none\");\r\n                setResourceType(e.target.value);\r\n              }}\r\n              style={{\r\n                padding: 0,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"600\",\r\n                borderRadius: 4,\r\n                color: theme.optionsFontColor,\r\n                border: `1px solid ${theme.optionsBorderColor}`,\r\n              }}\r\n            >\r\n              <MenuItem\r\n                value=\"none\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                None\r\n              </MenuItem>\r\n\r\n              <MenuItem\r\n                value=\"waterBody\"\r\n                style={{\r\n                  padding: 4,\r\n                  margin: 0,\r\n                  fontSize: 12,\r\n                  fontWeight: \"600\",\r\n                  color: theme.optionsFontColor,\r\n                }}\r\n              >\r\n                Water body\r\n              </MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Row>\r\n\r\n        <Row style={{ margin: 0, padding: 4 }}>\r\n          <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: 4,\r\n                margin: 0,\r\n                fontSize: 12,\r\n                fontWeight: \"500\",\r\n                textAlign: \"start\",\r\n                color: theme.optionsFontColor,\r\n              }}\r\n            >\r\n              Resource size\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={6}\r\n              style={{\r\n                padding: \"4px 16px 4px 16px\",\r\n                margin: 0,\r\n                fontSize: 10,\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              <Slider\r\n                style={{ boxShadow: \"none\", color: theme.optionsFontColor }}\r\n                style={{ padding: 0 }}\r\n                ValueLabelComponent={ValueLabelComponent}\r\n                value={resourceSize}\r\n                min={10}\r\n                max={300}\r\n                step={1}\r\n                onChange={(e, v) => {\r\n                  e.preventDefault();\r\n                  setResourceSize(v);\r\n                }}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Row>\r\n\r\n        \r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Statisitcs;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport mojs from \"@mojs/core\";\r\nconst EarthQuake = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const ring1 = useRef();\r\n  const ring2 = useRef();\r\n  const ring3 = useRef();\r\n\r\n  useEffect(() => {\r\n    if (animDom && animDom.current) {\r\n      ring1.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor(size / 3) },\r\n        strokeWidth: { 30: 0 },\r\n        stroke: \"#E96BFF\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring2.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((2 * size) / 3) },\r\n        strokeWidth: { 15: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring3.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: size },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring1.current.tune(position).play();\r\n      ring2.current.tune(position).play();\r\n      ring3.current.tune(position).play();\r\n    }\r\n  }, [animDom]);\r\n\r\n  return (\r\n    <div\r\n      ref={animDom}\r\n      className=\"EarthQuake\"\r\n      // class=\"shake-hard shake-constant\"\r\n      style={{ position: \"absolute\" }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default EarthQuake;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport animationData from \"../assets/volcana.json\";\r\nimport mojs from \"@mojs/core\";\r\nimport Lottie from \"react-lottie\";\r\nconst Volcano = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"Volcano\" style={{ position: \"absolute\" }} ref={animDom}>\r\n      <div\r\n        className=\"Volcano\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: position.y - size / 2,\r\n          left: position.x - size / 2,\r\n        }}\r\n      >\r\n        <Lottie\r\n          options={defaultOptions}\r\n          height={size}\r\n          width={size}\r\n          style={{ transition: \"all 2s linear\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Volcano;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\n\r\nimport mojs from \"@mojs/core\";\r\n\r\nimport animationData from \"../assets/radiation.json\";\r\n\r\nimport Lottie from \"react-lottie\";\r\nconst Radiation = ({ earthRef, position, amplitude, size, duration }) => {\r\n  const animDom = useRef();\r\n  const ring1 = useRef();\r\n  const ring2 = useRef();\r\n  const ring3 = useRef();\r\n  const ring4 = useRef();\r\n\r\n  useEffect(() => {\r\n    if (animDom && animDom.current) {\r\n      ring1.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((4 * size) / 5) },\r\n        strokeWidth: { 30: 0 },\r\n        stroke: \"#E96BFF\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring2.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((2 * size) / 3) },\r\n        strokeWidth: { 15: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring3.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: size },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n      ring4.current = new mojs.Shape({\r\n        parent: animDom.current,\r\n        shape: \"circle\",\r\n        fill: \"none\",\r\n        scale: { 0: 1 },\r\n\r\n        radius: { 0: Math.floor((3 * size) / 4) },\r\n        strokeWidth: { 10: 0 },\r\n        stroke: \"#F57657\",\r\n        delay: \"rand(75, 150)\",\r\n\r\n        angle: { \"rand(-35, -70)\": 0 },\r\n        duration: Math.floor(3000 / amplitude),\r\n        left: 0,\r\n        top: 0,\r\n        easing: \"cubic.inout\",\r\n        className: \"no-pointer\",\r\n        repeat: Math.floor(duration / Math.floor(3000 / amplitude)),\r\n      });\r\n\r\n      ring1.current.tune(position).play();\r\n      ring2.current.tune(position).play();\r\n      ring3.current.tune(position).play();\r\n      ring4.current.tune(position).play();\r\n    }\r\n  }, [animDom]);\r\n\r\n  const defaultOptions = {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: animationData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: \"xMidYMid slice\",\r\n    },\r\n  };\r\n  return (\r\n    <div ref={animDom} className=\"Radiation\" style={{ position: \"absolute\" }}>\r\n      {position ? (\r\n        <div\r\n          className=\"Volcano\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: position.y - size / 2,\r\n            left: position.x - size / 2,\r\n          }}\r\n        >\r\n          <Lottie\r\n            options={defaultOptions}\r\n            height={size}\r\n            width={size}\r\n            style={{ transition: \"all 2s linear\" }}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Radiation;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\n\r\nconst WaterBody = ({ earthRef, position, uid, size }) => {\r\n  return (\r\n    <div className=\"WaterBody\" style={{ position: \"absolute\" }}>\r\n      <div\r\n        className=\"WaterBody\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: position.y - size / 2,\r\n          left: position.x - size / 2,\r\n        }}\r\n      >\r\n        <div\r\n          className=\"WaterBody\"\r\n          style={{\r\n            boxShadow: \"inset 0 0 10px #485662\",\r\n            borderRadius: size / 2,\r\n            backgroundColor: \"#66B3FF\",\r\n            width: size,\r\n            height: size,\r\n          }}\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WaterBody;\r\n","import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Creature from \"./creature\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport Statisitcs from \"./statistics\";\r\nimport EarthQuake from \"./earthQuake\";\r\nimport Volcano from \"./volcana\";\r\nimport Radiation from \"./radiation\";\r\nimport WaterBody from \"./waterBody\";\r\n\r\n// const demo = Array.from(Array(100).keys());\r\n\r\n\r\n\r\n\r\n\r\nconst isPairEqual = (a1, b1, a2, b2) => {\r\n  // console.log(a1,b1,a2,b2);\r\n  if (\r\n    (a1.localeCompare(a2) === 0 || a1.localeCompare(b2) === 0) &&\r\n    (b1.localeCompare(a2) === 0 || b1.localeCompare(b2) === 0)\r\n  ) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nconst Earth = () => {\r\n  const {\r\n    restarted,\r\n    calamityType,\r\n    calamities,\r\n    resources,\r\n    resourceType,\r\n    initialPopulation,\r\n  } = useGlobalState();\r\n  const { setCalamityPosition, setResourcePosition,setTotalPopulation } = useGlobalActions();\r\n  const [creatures, setCreatures] = useState([]);\r\n  const [contextMenuPosition, setContextMenuPosition] = useState(null);\r\n  const [earthDimensions, setEarthDimensions] = useState(null);\r\n  const earthRef = createRef();\r\n  const creaturesRef = useRef([]);\r\n  const birthCache = useRef([]);\r\n\r\n  //initial population of creatures\r\n  function InitializeCreatures(initialPopulation) {\r\n    creaturesRef.current = [];\r\n    for (var i = 0; i < initialPopulation; i++) {\r\n      addNewCreature();\r\n    }\r\n  }\r\n\r\n  //add new creature to creaturesRef\r\n  function addNewCreature(props) {\r\n    const creaturesTemp = creaturesRef.current;\r\n    const gender = Math.random()>0.5?\"M\":\"F\";\r\n    const uid = `${gender}-${uuidv4()}`;\r\n    creaturesTemp.push({\r\n      uid: uid,\r\n      birth: Date.now(),\r\n      x: props?.x,\r\n      y: props?.y,\r\n      size: props?.size,\r\n      gender:gender\r\n    });\r\n    setCreatures([...creaturesTemp]);\r\n    creaturesRef.current = creaturesTemp;\r\n    return uid;\r\n  }\r\n\r\n  //remove creature by id from creatureRef\r\n  function removeCreatureByUid(uid) {\r\n    const creaturesTemp = creaturesRef.current;\r\n    for (var i = 0; i < creaturesTemp.length; i++) {\r\n      if (creaturesTemp[i].uid.localeCompare(uid) === 0) {\r\n        creaturesTemp.splice(i, 1);\r\n        setCreatures([...creaturesTemp]);\r\n        creaturesRef.current = creaturesTemp;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  //remove random creature\r\n  function removeRandom() {\r\n    const creaturesTemp = creaturesRef.current;\r\n    creaturesTemp.splice(\r\n      Math.floor(Math.random() * creaturesRef.current.length),\r\n      1\r\n    );\r\n    setCreatures([...creaturesTemp]);\r\n    creaturesRef.current = creaturesTemp;\r\n  }\r\n\r\n  //handle new births wheather the parents have mate recently or not\r\n  function newBirth({ mother, father }) {\r\n    const birthCacheTemp = birthCache.current;\r\n    const l = birthCacheTemp.length;\r\n\r\n    var canGiveBirth = true;\r\n    for (var i = 0; i < l; i++) {\r\n      if (\r\n        isPairEqual(\r\n          birthCacheTemp[i].mother.id,\r\n          birthCacheTemp[i].father.id,\r\n          mother.id,\r\n          father.id\r\n        )\r\n      ) {\r\n        console.log(\"birth not allowed!\");\r\n        canGiveBirth = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (canGiveBirth) {\r\n      const childId = addNewCreature({\r\n        x: (mother.position.x + father.position.x) / 2,\r\n        y: (mother.position.y + father.position.y) / 2,\r\n        size: (mother.size + father.size) / 2,\r\n      });\r\n      birthCacheTemp.push({ mother, father });\r\n    }\r\n    if (birthCacheTemp.length > 100) {\r\n      birthCacheTemp.shift();\r\n    }\r\n    birthCache.current = birthCacheTemp;\r\n  }\r\n\r\n  //handle left click\r\n  function handleLeftClick(e) {\r\n    e.preventDefault();\r\n    if (e.button === 0) {\r\n      if (\r\n        calamityType.localeCompare(\"none\") !== 0 &&\r\n        calamities.length < 5 &&\r\n        resourceType.localeCompare(\"none\") === 0\r\n      ) {\r\n        setCalamityPosition({\r\n          x: e.clientX - earthDimensions.left,\r\n          y: e.clientY - earthDimensions.top,\r\n        });\r\n      } else if (\r\n        resourceType.localeCompare(\"none\") !== 0 &&\r\n        resources.length < 5 &&\r\n        calamityType.localeCompare(\"none\") === 0\r\n      ) {\r\n        setResourcePosition({\r\n          x: e.clientX - earthDimensions.left,\r\n          y: e.clientY - earthDimensions.top,\r\n        });\r\n      }\r\n    } else if (e.button === 2) {\r\n      handleRightClick(e);\r\n    }\r\n  }\r\n\r\n  //handle right click\r\n  function handleRightClick(e) {\r\n    e.preventDefault();\r\n    setContextMenuPosition({\r\n      x: e.clientX - earthDimensions.left,\r\n      y: e.clientY - earthDimensions.top,\r\n    });\r\n  }\r\n\r\n  //set dimensions of earth when reference is available\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current && !earthDimensions) {\r\n      setEarthDimensions({\r\n        top: earthRef.current.offsetTop,\r\n        left: earthRef.current.offsetLeft,\r\n        w: earthRef.current.offsetWidth,\r\n        h: earthRef.current.offsetHeight,\r\n      });\r\n      console.log(earthDimensions);\r\n    }\r\n  }, [earthRef]);\r\n\r\n  //adding contectmenu listener to hide contect menu on right click\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current) {\r\n      earthRef.current.addEventListener(\"contextmenu\", (e) => {\r\n        e.preventDefault();\r\n      });\r\n\r\n      return () => {\r\n        earthRef?.current?.removeEventListener(\"contextmenu\", handleRightClick);\r\n      };\r\n    }\r\n  }, [earthRef]);\r\n\r\n  //restart effect\r\n  useEffect(() => {\r\n    if (restarted) {\r\n      InitializeCreatures(initialPopulation);\r\n    }\r\n  }, [restarted,  initialPopulation]);\r\n\r\n  //add birth and death event handlers when earth reference is available\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current && !earthDimensions) {\r\n      const birthHandler = (e) => {\r\n        if (e.detail) {\r\n          newBirth({\r\n            mother: e.detail.mother,\r\n            father: e.detail.father,\r\n          });\r\n        }\r\n      };\r\n      const deathHandler = (e) => {\r\n        if (e.detail) {\r\n          removeCreatureByUid(e.detail.uid);\r\n        }\r\n      };\r\n      earthRef.current.addEventListener(\"birth\", birthHandler);\r\n      earthRef.current.addEventListener(\"death\", deathHandler);\r\n      return () => {\r\n        earthRef?.current?.removeEventListener(\"birth\", birthHandler);\r\n        earthRef?.current?.removeEventListener(\"death\", deathHandler);\r\n      };\r\n    }\r\n  }, [earthRef, earthRef.current]);\r\n\r\n\r\n  //save population size in global state\r\n  useEffect(()=>{\r\n    setTotalPopulation(creatures.length);\r\n  },[creatures])\r\n\r\n\r\n  return (\r\n    <div\r\n      id=\"earth\"\r\n      ref={earthRef}\r\n      style={{\r\n        backgroundColor: \"#2A2A2A\",\r\n        height: \"100%\",\r\n        width: window.innerWidth - 300,\r\n        overflow: \"hidden\",\r\n        position: \"relative\",\r\n      }}\r\n      onMouseDown={handleLeftClick}\r\n    >\r\n      {resources\r\n        ? resources.map((resource) => {\r\n            if (resource.type.localeCompare(\"waterBody\") === 0) {\r\n              return (\r\n                <WaterBody\r\n                  key={`${resource.id}+resource`}\r\n                  uid={resource.id}\r\n                  size={resource.size}\r\n                  position={resource.position}\r\n                ></WaterBody>\r\n              );\r\n            }\r\n          })\r\n        : null}\r\n      {calamities\r\n        ? calamities.map((calamity) => {\r\n            if (calamity.type.localeCompare(\"earthQuake\") === 0) {\r\n              return (\r\n                <EarthQuake\r\n                  key={`${calamity.id}+calamity`}\r\n                  size={calamity.size}\r\n                  amplitude={calamity.amplitude}\r\n                  duration={calamity.duration}\r\n                  position={calamity.position}\r\n                />\r\n              );\r\n            } else if (calamity.type.localeCompare(\"volcano\") === 0) {\r\n              return (\r\n                <Volcano\r\n                  key={`${calamity.id}+calamity`}\r\n                  size={calamity.size}\r\n                  amplitude={calamity.amplitude}\r\n                  duration={calamity.duration}\r\n                  position={calamity.position}\r\n                />\r\n              );\r\n            } else if (calamity.type.localeCompare(\"radiation\") === 0) {\r\n              return (\r\n                <Radiation\r\n                  key={`${calamity.id}+calamity`}\r\n                  size={calamity.size}\r\n                  amplitude={calamity.amplitude}\r\n                  duration={calamity.duration}\r\n                  position={calamity.position}\r\n                />\r\n              );\r\n            }\r\n          })\r\n        : null}\r\n      {earthRef && earthDimensions\r\n        ? creatures.map((creature) => {\r\n            return (\r\n              <Creature\r\n                birth={creature.birth}\r\n                key={creature.uid}\r\n                uid={creature.uid}\r\n                earthRef={earthRef}\r\n                dim={earthDimensions}\r\n                x={creature.x}\r\n                y={creature.y}\r\n                size={creature.size}\r\n                gender={creature.gender}\r\n              ></Creature>\r\n            );\r\n          })\r\n        : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Earth;\r\n","import logo from './logo.svg';\r\nimport './App.css';\r\nimport Ripples from \"react-ripples\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n// import Screen from './components/screen';\r\nimport { GlobalContextProvider } from './context/globalContext';\r\nimport Earth from \"./components/screen\";\r\nimport Statisitcs from \"./components/statistics\"\r\nimport { Row } from 'react-bootstrap';\r\nimport { ThemeProvider } from \"./context/themeContext\";\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <ThemeProvider>\r\n        <GlobalContextProvider>\r\n          <Statisitcs\r\n            style={{ position: \"absolute\", top: 5, left: 5 }}\r\n          ></Statisitcs>\r\n          <Earth></Earth>\r\n        </GlobalContextProvider>\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}