{"version":3,"sources":["logo.svg","context/globalContext.js","components/creature.js","components/statistics.js","components/earthQuake.js","components/screen.js","App.js","reportWebVitals.js","index.js"],"names":["GlobalStateContext","React","createContext","undefined","GlobalActionsContext","GlobalContextProvider","children","useState","status","setStatus","restarted","setRestart","speed","setSpeed","earthQuakePosition","setEarthQuakePosition","earthQuakeDuration","setEarthQuakeDuration","earthQuakeAmplitude","setEarthQuakeAmplitude","earthQuakeRadius","setEarthQuakeRadius","useEffect","Provider","value","useGlobalState","context","useContext","Error","useGlobalActions","Creature","props","creatureRef","useRef","birth","Date","now","color","setColor","className","setClassName","x","Math","floor","dim","w","random","left","size","y","h","top","position","setPosition","changePosition","pos","skipX","skipY","plusMinusX","plusMinusY","newPosition","xDiff","abs","yDiff","sqrt","pow","event","CustomEvent","detail","uid","earthRef","current","dispatchEvent","checkEarthQuake","localeCompare","interval","setInterval","neighbours","neighbourHood","parentNode","childNodes","Object","keys","forEach","key","offsetLeft","offsetTop","id","push","getNeighbourHood","length","mother","candidates","clearInterval","ref","style","borderRadius","height","width","backgroundColor","transition","WebkitBoxShadow","boxShadow","ValueLabelComponent","open","Tooltip","enterTouchDelay","placement","title","Statisitcs","Card","padding","margin","zIndex","border","ModalHeader","Row","Col","textAlign","fontSize","fontWeight","display","alignItems","justifyContent","IconButton","variant","onClick","e","preventDefault","closeStats","ButtonGroup","Button","disabled","Divider","Grid","container","spacing","item","xs","Slider","v","EarthQuake","duration","animDom","ring1","ring2","ring3","mojs","Shape","parent","shape","fill","scale","0","radius","strokeWidth","30","stroke","delay","angle","easing","repeat","15","10","handler","tune","play","addEventListener","removeEventListener","Earth","creatures","setCreatures","earthDimensions","setEarthDimensions","isStatsVisible","setIsStatsVisible","mouseOnStats","setMouseOnStats","createRef","creaturesRef","birthCache","addNewCreature","creaturesTemp","uuidv4","birthHandler","parents","birthCacheTemp","l","canGiveBirth","i","father","shift","newBirth","positionM","positionF","deathHandler","splice","removeCreatureByUid","InitializeCreatures","offsetWidth","offsetHeight","onMouseDown","button","makeEarthQuake","clientX","clientY","removeRandom","map","creature","onMouseEnter","onMouseLeave","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08d0ab76.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { createRef, useEffect, useState, useRef } from \"react\";\r\n\r\nconst GlobalStateContext = React.createContext(undefined);\r\nconst GlobalActionsContext = React.createContext(undefined);\r\n\r\nconst GlobalContextProvider = ({ children }) => {\r\n  const [status, setStatus] = useState(\"Paused\");\r\n  const [restarted, setRestart] = useState(true);\r\n  const [speed, setSpeed] = useState(1);\r\n  const [earthQuakePosition, setEarthQuakePosition] = useState(null);\r\n  const [earthQuakeDuration, setEarthQuakeDuration] = useState(10000);\r\n  const [earthQuakeAmplitude,  setEarthQuakeAmplitude] = useState(4);\r\n  const [earthQuakeRadius,setEarthQuakeRadius] = useState(100);\r\n\r\n\r\n  useEffect(()=>{\r\n    \r\n  },[earthQuakePosition])\r\n  return (\r\n    <GlobalStateContext.Provider\r\n      value={{\r\n        status,\r\n        speed,\r\n        restarted,\r\n        earthQuakePosition,\r\n        earthQuakeDuration,\r\n        earthQuakeAmplitude,\r\n        earthQuakeRadius\r\n      }}\r\n    >\r\n      <GlobalActionsContext.Provider\r\n        value={{\r\n          setStatus,\r\n          setSpeed,\r\n          setRestart,\r\n          setEarthQuakePosition,\r\n          setEarthQuakeDuration,\r\n          setEarthQuakeAmplitude,\r\n          setEarthQuakeRadius\r\n        }}\r\n      >\r\n        {children}\r\n      </GlobalActionsContext.Provider>\r\n    </GlobalStateContext.Provider>\r\n  );\r\n};\r\n\r\nconst useGlobalState = () => {\r\n  const context = React.useContext(GlobalStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useGlobalState error\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nconst useGlobalActions = () => {\r\n  const context = React.useContext(GlobalActionsContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useGlobalActions error\");\r\n  }\r\n\r\n  return context;\r\n};\r\n\r\nexport { useGlobalState, useGlobalActions, GlobalContextProvider };\r\n","import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nconst Creature = (props) => {\r\n  const { status, speed ,earthQuakePosition,earthQuakeRadius} = useGlobalState();\r\n  //   console.log(earthDimensions);\r\n\r\n  const creatureRef = useRef(null);\r\n  const size = 6;\r\n  const [color, setColor] = useState(\r\n    props.birth + 10000 > Date.now() ? \"#FF4489\" : \"#E8FF95\"\r\n  );\r\n\r\n  const [className, setClassName] = useState(\r\n    props.birth + 10000 > Date.now() ? \"babyCreature\" : \"adultCreature\"\r\n  );\r\n  const [position, setPosition] = useState({\r\n    x:props.x?props.x: Math.floor(props.dim.w * Math.random() + props.dim.left - size / 2),\r\n    y:props.y?props.y: Math.floor(props.dim.h * Math.random() + props.dim.top - size / 2),\r\n  });\r\n\r\n\r\n  function checkEarthQuake(){\r\n    if(earthQuakePosition){\r\n      const xDiff = Math.abs(position.x+size/2-earthQuakePosition.x)\r\n      const yDiff = Math.abs(position.y + size / 2 - earthQuakePosition.y);\r\n      if(Math.sqrt(Math.pow(xDiff,2)+Math.pow(yDiff,2))<earthQuakeRadius){\r\n        const event = new CustomEvent(\"death\", {\r\n          detail: { uid:props.uid },\r\n        });\r\n        props.earthRef?.current?.dispatchEvent(event);\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n  function changePosition() {\r\n    const pos = [1, -1];\r\n    const skipX = Math.floor(Math.random() * speed);\r\n    const skipY = Math.floor(Math.random() * speed);\r\n\r\n    const plusMinusX = Math.floor(Math.random() * 2);\r\n    const plusMinusY = Math.floor(Math.random() * 2);\r\n\r\n    const newPosition = {\r\n      x: position.x + pos[plusMinusX] * skipX,\r\n      y: position.y + pos[plusMinusY] * skipY,\r\n    };\r\n\r\n    if (newPosition.x + size > props.dim.w + props.dim.left) {\r\n      newPosition.x = props.dim.w + props.dim.left - size;\r\n    }\r\n    if (newPosition.y + size > props.dim.h + props.dim.top) {\r\n      newPosition.y = props.dim.h + props.dim.top - size;\r\n    }\r\n    if (newPosition.x < props.dim.left) {\r\n      newPosition.x = props.dim.left;\r\n    }\r\n    if (newPosition.y < props.dim.top) {\r\n      newPosition.y = props.dim.top;\r\n    }\r\n\r\n    setPosition(newPosition);\r\n    setColor(props.birth + 10000 > Date.now() ? \"#FF4489\" : \"#E8FF95\");\r\n\r\n    setClassName(\r\n      props.birth + 10000 > Date.now() ? \"babyCreature\" : \"adultCreature\"\r\n    );\r\n    checkEarthQuake();\r\n  }\r\n\r\n  function getNeighbourHood() {\r\n    const neighbourHood = {};\r\n    const neighbours = [];\r\n    if (creatureRef?.current) {\r\n      const children = creatureRef.current?.parentNode?.childNodes;\r\n      if (children) {\r\n        Object.keys(children).forEach((key) => {\r\n          if (\r\n            children[key]?.className.localeCompare(\"adultCreature\") === 0 &&\r\n            Math.abs(children[key].offsetLeft - position.x) < 10 &&\r\n            Math.abs(children[key].offsetTop - position.y) < 10 &&\r\n            children[key].id.localeCompare(props.uid) !== 0\r\n          ) {\r\n            neighbours.push(children[key]);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    neighbourHood.neighbours = neighbours;\r\n    return neighbourHood;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log(props.uid);\r\n    if (status.localeCompare(\"Playing\") === 0) {\r\n      const interval = setInterval(() => {\r\n        changePosition();\r\n        if(className.localeCompare(\"adultCreature\")===0){\r\n          const { neighbours } = getNeighbourHood();\r\n          if (neighbours.length > 0) {\r\n            const event = new CustomEvent(\"birth\", {\r\n              detail: {\r\n                mother: props.uid,\r\n                candidates: neighbours,\r\n                position: position,\r\n              },\r\n            });\r\n            props.earthRef?.current?.dispatchEvent(event);\r\n          }\r\n        }\r\n        \r\n      }, Math.floor((Math.random() * 500)) + 10);\r\n      return () => {\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n  }, [position, status, speed]);\r\n  return (\r\n    <div\r\n      className={className}\r\n      ref={creatureRef}\r\n      id={props.uid}\r\n      style={{\r\n        borderRadius: size / 2,\r\n        height: size,\r\n        width: size,\r\n        backgroundColor: color,\r\n        position: \"absolute\",\r\n        top: position.y,\r\n        left: position.x,\r\n        transition: \"all 0.5s ease-in-out\",\r\n        WebkitBoxShadow:\r\n          props.birth + 10000 > Date.now() ? \"0 0 10px #FF4489\" : \"none\",\r\n        boxShadow:\r\n         \r\n         \r\n         \r\n          props.birth + 10000 > Date.now() ? \"0 0 10px #FF4489\" : \"none\",\r\n      }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Creature;\r\n","import { Row, Card, Col, ButtonGroup } from \"react-bootstrap\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport ModalHeader from \"react-bootstrap/esm/ModalHeader\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n// import Cross from \"@material-ui/icons/Dehaze\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nconst Statisitcs = (props) => {\r\n  const { setStatus, setSpeed, setRestart } = useGlobalActions();\r\n  const { status, speed ,restarted} = useGlobalState();\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        padding: 0,\r\n        margin: 4,\r\n        top: 4,\r\n        left: 4,\r\n        width: 300,\r\n        zIndex: 10,\r\n        border: \"none\",\r\n        borderRadius: 2,\r\n      }}\r\n    >\r\n      <ModalHeader style={{ padding: 0, margin: 0 }}>\r\n        <Row style={{ padding: 4, margin: 0, width: \"100%\" }}>\r\n          <Col\r\n            style={{\r\n              padding: 2,\r\n              margin: 0,\r\n              textAlign: \"start\",\r\n              fontSize: 14,\r\n              fontWeight: \"500\",\r\n            }}\r\n          >\r\n            Statisitcs\r\n          </Col>\r\n          <Col\r\n            style={{\r\n              padding: 2,\r\n              margin: 0,\r\n              display:\"flex\",\r\n              alignItems:\"center\",\r\n              justifyContent:\"flex-end\"\r\n            }}\r\n          >\r\n            <IconButton\r\n              variant=\"outline-dark\"\r\n              style={{\r\n                padding: 2,\r\n                boxShadow: \"none\",\r\n                fontWeight: \"400\",\r\n                \r\n                fontSize: 10,\r\n              }}\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                props.closeStats();\r\n              }}\r\n            >\r\n                <ClearIcon style={{fontSize:14}}></ClearIcon>\r\n            </IconButton>\r\n          </Col>\r\n        </Row>\r\n      </ModalHeader>\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <ButtonGroup>\r\n          <Button\r\n            variant=\"dark\"\r\n            style={{\r\n              padding: \"2px 8px 2px 8px\",\r\n              boxShadow: \"none\",\r\n              fontSize: 12,\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setRestart(false);\r\n              status.localeCompare(\"Playing\") === 0\r\n                ? setStatus(\"Paused\")\r\n                : setStatus(\"Playing\");\r\n            }}\r\n          >\r\n            {status.localeCompare(\"Playing\") === 0 ? \"Pause\" : \"Play\"}\r\n          </Button>\r\n          <Button\r\n            //   disabled={status.localeCompare(\"Finished\") === 0}\r\n            disabled={restarted}\r\n            variant=\"dark\"\r\n            style={{\r\n              padding: \"2px 8px 2px 8px\",\r\n              boxShadow: \"none\",\r\n\r\n              fontSize: 12,\r\n            }}\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setStatus(\"Paused\");\r\n              setRestart(true);\r\n              \r\n              \r\n            }}\r\n          >\r\n            Stop\r\n          </Button>\r\n        </ButtonGroup>\r\n      </Row>\r\n      <Divider></Divider>\r\n      <Row style={{ margin: 0, padding: 4 }}>\r\n        <Grid container spacing={2} style={{ padding: 0, margin: 0 }}>\r\n          <Grid\r\n            item\r\n            style={{ padding: 4, margin: 0, fontSize: 12, fontWeight: \"500\" }}\r\n          >\r\n            Speed\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs\r\n            style={{ padding: \"4px 16px 4px 16px\", margin: 0, fontSize: 10, fontWeight: \"500\" }}\r\n          >\r\n            <Slider\r\n              style={{ boxShadow: \"none\" }}\r\n              style={{ padding: 0 }}\r\n              ValueLabelComponent={ValueLabelComponent}\r\n              value={speed}\r\n              min={1}\r\n              max={100}\r\n              onChange={(e, v) => {\r\n                e.preventDefault();\r\n                setSpeed(v);\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Row>\r\n      <Divider></Divider>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Statisitcs;\r\n","import React, { useRef, useEffect, useState, useCallback } from \"react\";\r\nimport { useGlobalState } from \"../context/globalContext\";\r\nimport mojs from \"@mojs/core\";\r\nconst EarthQuake = ({ duration, earthRef }) => {\r\n  const animDom = useRef();\r\n  const ring1 = useRef();\r\n  const ring2 = useRef();\r\n  const ring3 = useRef();\r\n  const ring4 = useRef();\r\n  const ring5 = useRef();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isAnimating, setIsAnimating] = useState(false);\r\n\r\n  const {\r\n    earthQuakeDuration,\r\n    earthQuakeAmplitude,\r\n    earthQuakeRadius,\r\n  } = useGlobalState();\r\n  useEffect(() => {\r\n    if (animDom && animDom.current) {\r\n      if (!ring1.current) {\r\n        ring1.current = new mojs.Shape({\r\n          parent: animDom.current,\r\n          shape: \"circle\",\r\n          fill: \"none\",\r\n          scale: { 0: 1 },\r\n\r\n          radius: { 0: Math.floor(earthQuakeRadius / 3) },\r\n          strokeWidth: { 30: 0 },\r\n          stroke: \"#E96BFF\",\r\n          delay: \"rand(75, 150)\",\r\n\r\n          angle: { \"rand(-35, -70)\": 0 },\r\n          duration: Math.floor(3000 / earthQuakeAmplitude),\r\n          left: 0,\r\n          top: 0,\r\n          easing: \"cubic.inout\",\r\n          className: \"no-pointer\",\r\n          repeat: Math.floor(\r\n            earthQuakeDuration / Math.floor(3000 / earthQuakeAmplitude)\r\n          ),\r\n        });\r\n      }\r\n      if (!ring2.current) {\r\n        ring2.current = new mojs.Shape({\r\n          parent: animDom.current,\r\n          shape: \"circle\",\r\n          fill: \"none\",\r\n          scale: { 0: 1 },\r\n\r\n          radius: { 0: Math.floor((2 * earthQuakeRadius) / 3) },\r\n          strokeWidth: { 15: 0 },\r\n          stroke: \"#F57657\",\r\n          delay: \"rand(75, 150)\",\r\n\r\n          angle: { \"rand(-35, -70)\": 0 },\r\n          duration: Math.floor(3000 / earthQuakeAmplitude),\r\n          left: 0,\r\n          top: 0,\r\n          easing: \"cubic.inout\",\r\n          className: \"no-pointer\",\r\n          repeat: Math.floor(\r\n            earthQuakeDuration / Math.floor(3000 / earthQuakeAmplitude)\r\n          ),\r\n        });\r\n      }\r\n      if (!ring3.current) {\r\n        ring3.current = new mojs.Shape({\r\n          parent: animDom.current,\r\n          shape: \"circle\",\r\n          fill: \"none\",\r\n          scale: { 0: 1 },\r\n\r\n          radius: { 0: earthQuakeRadius },\r\n          strokeWidth: { 10: 0 },\r\n          stroke: \"#F57657\",\r\n          delay: \"rand(75, 150)\",\r\n\r\n          angle: { \"rand(-35, -70)\": 0 },\r\n          duration: Math.floor(3000 / earthQuakeAmplitude),\r\n          left: 0,\r\n          top: 0,\r\n          easing: \"cubic.inout\",\r\n          className: \"no-pointer\",\r\n          repeat: Math.floor(\r\n            earthQuakeDuration / Math.floor(3000 / earthQuakeAmplitude)\r\n          ),\r\n        });\r\n      }\r\n    }\r\n  }, [animDom, earthQuakeDuration, earthQuakeAmplitude, earthQuakeRadius]);\r\n\r\n  // Update the animation values when the prop changes\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current) {\r\n      const handler = (e) => {\r\n        if (e.detail) {\r\n          ring1.current.tune({ x: e.detail.x, y: e.detail.y }).play();\r\n          ring2.current.tune({ x: e.detail.x, y: e.detail.y }).play();\r\n          ring3.current.tune({ x: e.detail.x, y: e.detail.y }).play();\r\n        }\r\n      };\r\n      earthRef.current.addEventListener(\"earthQuake\", handler);\r\n      return () =>\r\n        earthRef?.current?.removeEventListener(\"earthQuake\", handler);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={animDom}\r\n      className=\"EarthQuake\"\r\n      style={{ position: \"absolute\" }}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default EarthQuake;\r\n","import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport Creature from \"./creature\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DehazeIcon from \"@material-ui/icons/Dehaze\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport Statisitcs from \"./statistics\";\r\nimport EarthQuake from \"./earthQuake\";\r\n\r\n// const demo = Array.from(Array(100).keys());\r\n\r\nconst Earth = () => {\r\n  const {\r\n    status,\r\n    restarted,\r\n    earthQuakePosition,\r\n    earthQuakeDuration,\r\n  } = useGlobalState();\r\n  const { setEarthQuakePosition } = useGlobalActions();\r\n  const [creatures, setCreatures] = useState([]);\r\n  const [earthDimensions, setEarthDimensions] = useState(null);\r\n  const [isStatsVisible, setIsStatsVisible] = useState(false);\r\n  const [mouseOnStats, setMouseOnStats] = useState(false);\r\n  const earthRef = createRef();\r\n  const creaturesRef = useRef([]);\r\n  const birthCache = useRef([]);\r\n\r\n  function newBirth(parents) {\r\n    const birthCacheTemp = birthCache.current;\r\n    const l = birthCacheTemp.length;\r\n\r\n    var canGiveBirth = true;\r\n    for (var i = 0; i < l; i++) {\r\n      if (\r\n        (birthCacheTemp[i].mother.localeCompare(parents.mother) === 0 ||\r\n          birthCacheTemp[i].mother.localeCompare(parents.father) === 0) &&\r\n        (birthCacheTemp[i].father.localeCompare(parents.mother) === 0 ||\r\n          birthCacheTemp[i].father.localeCompare(parents.father) === 0)\r\n      ) {\r\n        // console.log(\"BirthCache hit!\", parents, birthCacheTemp);\r\n        canGiveBirth = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (birthCacheTemp.length === 0 || canGiveBirth) {\r\n      addNewCreature({ x: parents.x, y: parents.y });\r\n      birthCacheTemp.push({ ...parents });\r\n    }\r\n    if (birthCacheTemp.length > 100) {\r\n      birthCacheTemp.shift();\r\n    }\r\n    birthCache.current = birthCacheTemp;\r\n  }\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current && !earthDimensions) {\r\n      const birthHandler = (e) => {\r\n        if (e.detail) {\r\n          newBirth({\r\n            mother: e.detail.mother,\r\n            father: e.detail.candidates[0].id,\r\n            x:\r\n              Math.floor(\r\n                e.detail.position.x + e.detail.candidates[0].offsetLeft\r\n              ) / 2,\r\n            y:\r\n              Math.floor(\r\n                e.detail.position.y + e.detail.candidates[0].offsetTop\r\n              ) / 2,\r\n            positionM: e.detail.position,\r\n            positionF: {\r\n              x: e.detail.candidates[0].offsetLeft,\r\n              y: e.detail.candidates[0].offsetTop,\r\n            },\r\n          });\r\n        }\r\n      };\r\n      const deathHandler = (e) => {\r\n        if (e.detail) {\r\n          removeCreatureByUid(e.detail.uid);\r\n        }\r\n      };\r\n      earthRef.current.addEventListener(\"birth\", birthHandler);\r\n      earthRef.current.addEventListener(\"death\", deathHandler);\r\n      return () => {\r\n        earthRef?.current?.removeEventListener(\"birth\", birthHandler);\r\n        earthRef?.current?.removeEventListener(\"death\", deathHandler);\r\n      };\r\n    }\r\n  }, [earthRef, earthRef.current]);\r\n\r\n  function addNewCreature(props) {\r\n    const creaturesTemp = creaturesRef.current;\r\n    creaturesTemp.push({\r\n      uid: uuidv4(),\r\n      birth: Date.now(),\r\n      x: props ? props.x : null,\r\n      y: props ? props.y : null,\r\n    });\r\n    setCreatures([...creaturesTemp]);\r\n    creaturesRef.current = creaturesTemp;\r\n  }\r\n\r\n  function removeCreatureByUid(uid) {\r\n    const creaturesTemp = creaturesRef.current;\r\n    for (var i = 0; i < creaturesTemp.length; i++) {\r\n      if (creaturesTemp[i].uid.localeCompare(uid) === 0) {\r\n        creaturesTemp.splice(i, 1);\r\n        setCreatures([...creaturesTemp]);\r\n        creaturesRef.current = creaturesTemp;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  function removeRandom() {\r\n    const creaturesTemp = creaturesRef.current;\r\n    creaturesTemp.splice(\r\n      Math.floor(Math.random() * creaturesRef.current.length),\r\n      1\r\n    );\r\n    setCreatures([...creaturesTemp]);\r\n    creaturesRef.current = creaturesTemp;\r\n  }\r\n\r\n  function InitializeCreatures() {\r\n    creaturesRef.current = [];\r\n    for (var i = 0; i < 20; i++) {\r\n      addNewCreature();\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if (restarted) {\r\n      InitializeCreatures();\r\n    }\r\n  }, [restarted]);\r\n\r\n  useEffect(() => {\r\n    if (earthRef && earthRef.current && !earthDimensions) {\r\n      setEarthDimensions({\r\n        top: earthRef.current.offsetTop,\r\n        left: earthRef.current.offsetLeft,\r\n        w: earthRef.current.offsetWidth,\r\n        h: earthRef.current.offsetHeight,\r\n      });\r\n    }\r\n  }, [earthRef]);\r\n\r\n  function makeEarthQuake(x, y) {\r\n    const event = new CustomEvent(\"earthQuake\", {\r\n      detail: { x, y },\r\n    });\r\n    earthRef?.current?.dispatchEvent(event);\r\n  }\r\n  useEffect(() => {\r\n    if (earthQuakePosition) {\r\n      const interval = setInterval(() => {\r\n        setEarthQuakePosition(null);\r\n      }, [earthQuakeDuration]);\r\n\r\n      return () => {\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n  }, [earthQuakePosition, earthQuakeDuration]);\r\n\r\n  function handleEarthMouseDown(e) {\r\n    e.preventDefault();\r\n    if (!mouseOnStats && !isStatsVisible) {\r\n      if (e.button === 0) {\r\n        makeEarthQuake(\r\n          e.clientX - earthDimensions.left,\r\n          e.clientY - earthDimensions.top\r\n        );\r\n        setEarthQuakePosition({\r\n          x: e.clientX - earthDimensions.left,\r\n          y: e.clientY - earthDimensions.top,\r\n        });\r\n        // addNewCreature({ color: \"#004CFF\" });\r\n      } else {\r\n        removeRandom();\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      id=\"earth\"\r\n      ref={earthRef}\r\n      style={{ backgroundColor: \"#222222\", height: \"100%\", width: \"100%\" }}\r\n      onMouseDown={handleEarthMouseDown}\r\n    >\r\n      <EarthQuake duration={3000} earthRef={earthRef}></EarthQuake>\r\n      {earthRef && earthDimensions\r\n        ? creatures.map((creature) => {\r\n            return (\r\n              <Creature\r\n                birth={creature.birth}\r\n                key={creature.uid}\r\n                uid={creature.uid}\r\n                earthRef={earthRef}\r\n                dim={earthDimensions}\r\n                x={creature.x}\r\n                y={creature.y}\r\n              ></Creature>\r\n            );\r\n          })\r\n        : null}\r\n      {isStatsVisible === false ? (\r\n        <IconButton\r\n          onMouseEnter={(e) => {\r\n            e.preventDefault();\r\n            setMouseOnStats(true);\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.preventDefault();\r\n            setMouseOnStats(false);\r\n          }}\r\n          style={{ position: \"absolute\", top: 5, left: 5 }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setIsStatsVisible(true);\r\n          }}\r\n        >\r\n          <DehazeIcon style={{ color: \"white\" }}></DehazeIcon>\r\n        </IconButton>\r\n      ) : (\r\n        <Statisitcs\r\n          closeStats={() => {\r\n            setIsStatsVisible(false);\r\n            setMouseOnStats(false);\r\n          }}\r\n          style={{ position: \"absolute\", top: 5, left: 5 }}\r\n        ></Statisitcs>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Earth;\r\n","import logo from './logo.svg';\r\nimport './App.css';\r\nimport Ripples from \"react-ripples\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n// import Screen from './components/screen';\r\nimport { GlobalContextProvider } from './context/globalContext';\r\nimport Earth from \"./components/screen\";\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <GlobalContextProvider>\r\n        \r\n          <Earth></Earth>\r\n        \r\n      </GlobalContextProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}