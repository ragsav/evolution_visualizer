{"ast":null,"code":"import _toConsumableArray from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:/projects/Fun/genetic algorithm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createRef,useEffect,useRef,useState}from\"react\";import{Card,Button}from\"react-bootstrap\";import{useGlobalActions,useGlobalState}from\"../context/globalContext\";import Node from\"./node\";import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var demo=Array.from(Array(20).keys());var Screen=function Screen(){// const {ground} = useGlobalState();\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),trueRef=_useState2[0],setTrueRef=_useState2[1];var screenRef=useRef(null);var _useGlobalState=useGlobalState(),status=_useGlobalState.status;var _useGlobalActions=useGlobalActions(),setStatus=_useGlobalActions.setStatus;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),creatures=_useState4[0],setCreatures=_useState4[1];useEffect(function(){if(status.localeCompare(\"playing\")===0){console.log(creatures.length);if(Math.random()>0.7/creatures.length*20){var l=creatures.length;var index=Math.random()*l;var creaturesTemp=_toConsumableArray(creatures);creaturesTemp.splice(index,1);setCreatures(_toConsumableArray(creaturesTemp));}}},[creatures]);function addCreature(c){creatures.push(c);setCreatures(_toConsumableArray(creatures));}useEffect(function(){if(screenRef){if(screenRef.current){setTrueRef(screenRef.current);demo.forEach(function(t,i){var k=uuidv4();creatures.push(/*#__PURE__*/_jsx(Node,{screenRef:screenRef,uid:k,setCreatures:setCreatures,creatures:creatures,bounds:{l:screenRef.current.offsetLeft,t:screenRef.current.offsetTop,w:screenRef.current.clientWidth,h:screenRef.current.clientHeight},children:/*#__PURE__*/_jsx(\"span\",{id:\"\".concat(k,\"+123\")},\"\".concat(k,\"+123\"))},k));});setCreatures(_toConsumableArray(creatures));}}},[screenRef]);return/*#__PURE__*/_jsxs(\"div\",{id:\"screen\",style:{height:\"100%\",width:\"100%\",backgroundColor:\"#1E1E1E\"},ref:screenRef,children:[/*#__PURE__*/_jsx(Button,{variant:\"outline-light\",style:{padding:4,margin:0,top:5,left:5,position:\"absolute\",borderRadius:0},onClick:function onClick(e){e.preventDefault();if(status.localeCompare(\"playing\")===0){setStatus(\"paused\");}else{setStatus(\"playing\");}},children:status}),trueRef?creatures:null]});};export default Screen;","map":{"version":3,"sources":["E:/projects/Fun/genetic algorithm/src/components/screen.js"],"names":["createRef","useEffect","useRef","useState","Card","Button","useGlobalActions","useGlobalState","Node","v4","uuidv4","demo","Array","from","keys","Screen","trueRef","setTrueRef","screenRef","status","setStatus","creatures","setCreatures","localeCompare","console","log","length","Math","random","l","index","creaturesTemp","splice","addCreature","c","push","current","forEach","t","i","k","offsetLeft","offsetTop","w","clientWidth","h","clientHeight","height","width","backgroundColor","padding","margin","top","left","position","borderRadius","e","preventDefault"],"mappings":"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","sourcesContent":["import { createRef, useEffect, useRef, useState } from \"react\";\r\nimport { Card ,Button} from \"react-bootstrap\";\r\nimport { useGlobalActions, useGlobalState } from \"../context/globalContext\";\r\nimport Node from \"./node\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n\r\nconst demo = Array.from(Array(20).keys());\r\nconst Screen = ()=>{\r\n\r\n    \r\n    // const {ground} = useGlobalState();\r\n    const [trueRef,setTrueRef] = useState(null);\r\n    const screenRef = useRef(null);\r\n    const {status} = useGlobalState();\r\n    const {setStatus} = useGlobalActions();\r\n    const [creatures,setCreatures] = useState([])\r\n  \r\n    \r\n\r\n    \r\n\r\n\r\n\r\n    \r\n    \r\n\r\n    useEffect(()=>{\r\n        if(status.localeCompare(\"playing\")===0){\r\n            console.log(creatures.length);\r\n            if(Math.random() > (0.7 / creatures.length) * 20){\r\n                const l = creatures.length;\r\n                const index = Math.random() * l;\r\n                const creaturesTemp = [...creatures];\r\n                creaturesTemp.splice(index, 1);\r\n                setCreatures([...creaturesTemp]);\r\n            }\r\n            \r\n        }\r\n        \r\n    },[creatures])\r\n\r\n   function addCreature(c) {\r\n     creatures.push(c);\r\n\r\n     setCreatures([...creatures]);\r\n   }\r\n    \r\n    useEffect(()=>{\r\n        if(screenRef){\r\n            if(screenRef.current){\r\n                setTrueRef(screenRef.current);\r\n                demo.forEach((t, i) => {\r\n                    const k = uuidv4();\r\n                  creatures.push(\r\n                    <Node\r\n                      screenRef={screenRef}\r\n                      uid={k}\r\n                      key={k}\r\n                      setCreatures={setCreatures}\r\n                      creatures={creatures}\r\n                      bounds={{\r\n                        l: screenRef.current.offsetLeft,\r\n                        t: screenRef.current.offsetTop,\r\n                        w: screenRef.current.clientWidth,\r\n                        h: screenRef.current.clientHeight,\r\n                      }}\r\n                    >\r\n                      <span key={`${k}+123`} id={`${k}+123`}></span>\r\n                    </Node>\r\n                  );\r\n                });\r\n                setCreatures([...creatures])\r\n            }\r\n        }\r\n    },[screenRef])\r\n\r\n    \r\n\r\n    \r\n\r\n    \r\n\r\n\r\n\r\n\r\n    return (\r\n      <div\r\n        id=\"screen\"\r\n        style={{ height: \"100%\", width: \"100%\", backgroundColor: \"#1E1E1E\" }}\r\n        ref={screenRef}\r\n      >\r\n        <Button\r\n            variant=\"outline-light\"\r\n          style={{\r\n            padding: 4,\r\n            margin: 0,\r\n            top: 5,\r\n            left: 5,\r\n            position: \"absolute\",\r\n            borderRadius:0,\r\n            \r\n          }}\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            if (status.localeCompare(\"playing\") === 0) {\r\n              setStatus(\"paused\");\r\n            }else{\r\n                setStatus(\"playing\")\r\n            }\r\n          }}\r\n        >\r\n          {status}\r\n        </Button>\r\n        {trueRef ? creatures : null}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Screen;"]},"metadata":{},"sourceType":"module"}