{"ast":null,"code":"import{Creature}from\"../core/creature\";export function matingPool(creatures){var vis=Array(creatures.current.length).fill(false);var pairs=[];var l=creatures.current.length;for(var i=0;i<l;i++){var observer=creatures.current[i];if(!vis[i]&&observer.gender==\"F\"&&observer.isAdult&&observer.isAbleToMate){vis[i]=true;for(var j=i+1;j<l;j++){var target=creatures.current[j];if(!vis[j]&&target.gender==\"M\"&&target.isAdult&&observer.pos.subtr(target.pos).mag()<5){pairs.push({mother:observer,father:target});vis[j]=true;break;}}}}pairs.forEach(function(_ref){var mother=_ref.mother,father=_ref.father;var newBall=new Creature((mother.pos.x+father.pos.x)/2,(mother.pos.y+father.pos.y)/2,(mother.r+father.r)/2,Math.random()>0.5?\"F\":\"M\",creatures);mother.updateNotAbleToMate();});}","map":{"version":3,"sources":["E:/projects/Fun/genetic algorithm/src/components/gaFunctions/mating.js"],"names":["Creature","matingPool","creatures","vis","Array","current","length","fill","pairs","l","i","observer","gender","isAdult","isAbleToMate","j","target","pos","subtr","mag","push","mother","father","forEach","newBall","x","y","r","Math","random","updateNotAbleToMate"],"mappings":"AAAA,OAASA,QAAT,KAAyB,kBAAzB,CACA,MAAO,SAASC,CAAAA,UAAT,CAAoBC,SAApB,CAA+B,CACpC,GAAMC,CAAAA,GAAG,CAAGC,KAAK,CAACF,SAAS,CAACG,OAAV,CAAkBC,MAAnB,CAAL,CAAgCC,IAAhC,CAAqC,KAArC,CAAZ,CACA,GAAMC,CAAAA,KAAK,CAAG,EAAd,CACA,GAAMC,CAAAA,CAAC,CAAGP,SAAS,CAACG,OAAV,CAAkBC,MAA5B,CAEA,IAAK,GAAII,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGD,CAApB,CAAuBC,CAAC,EAAxB,CAA4B,CAC1B,GAAMC,CAAAA,QAAQ,CAAGT,SAAS,CAACG,OAAV,CAAkBK,CAAlB,CAAjB,CACA,GACE,CAACP,GAAG,CAACO,CAAD,CAAJ,EACAC,QAAQ,CAACC,MAAT,EAAmB,GADnB,EAEAD,QAAQ,CAACE,OAFT,EAGAF,QAAQ,CAACG,YAJX,CAKE,CACAX,GAAG,CAACO,CAAD,CAAH,CAAS,IAAT,CACA,IAAK,GAAIK,CAAAA,CAAC,CAAGL,CAAC,CAAG,CAAjB,CAAoBK,CAAC,CAAGN,CAAxB,CAA2BM,CAAC,EAA5B,CAAgC,CAC9B,GAAMC,CAAAA,MAAM,CAAGd,SAAS,CAACG,OAAV,CAAkBU,CAAlB,CAAf,CACA,GACE,CAACZ,GAAG,CAACY,CAAD,CAAJ,EACAC,MAAM,CAACJ,MAAP,EAAiB,GADjB,EAEAI,MAAM,CAACH,OAFP,EAGAF,QAAQ,CAACM,GAAT,CAAaC,KAAb,CAAmBF,MAAM,CAACC,GAA1B,EAA+BE,GAA/B,GAAuC,CAJzC,CAKE,CACAX,KAAK,CAACY,IAAN,CAAW,CAAEC,MAAM,CAAEV,QAAV,CAAoBW,MAAM,CAAEN,MAA5B,CAAX,EACAb,GAAG,CAACY,CAAD,CAAH,CAAS,IAAT,CACA,MACD,CACF,CACF,CACF,CACDP,KAAK,CAACe,OAAN,CAAc,cAAwB,IAArBF,CAAAA,MAAqB,MAArBA,MAAqB,CAAbC,MAAa,MAAbA,MAAa,CACpC,GAAIE,CAAAA,OAAO,CAAG,GAAIxB,CAAAA,QAAJ,CACZ,CAACqB,MAAM,CAACJ,GAAP,CAAWQ,CAAX,CAAeH,MAAM,CAACL,GAAP,CAAWQ,CAA3B,EAAgC,CADpB,CAEZ,CAACJ,MAAM,CAACJ,GAAP,CAAWS,CAAX,CAAeJ,MAAM,CAACL,GAAP,CAAWS,CAA3B,EAAgC,CAFpB,CAGZ,CAACL,MAAM,CAACM,CAAP,CAAWL,MAAM,CAACK,CAAnB,EAAwB,CAHZ,CAIZC,IAAI,CAACC,MAAL,GAAgB,GAAhB,CAAsB,GAAtB,CAA4B,GAJhB,CAKZ3B,SALY,CAAd,CAOAmB,MAAM,CAACS,mBAAP,GACD,CATD,EAUD","sourcesContent":["import { Creature } from \"../core/creature\";\r\nexport function matingPool(creatures) {\r\n  const vis = Array(creatures.current.length).fill(false);\r\n  const pairs = [];\r\n  const l = creatures.current.length;\r\n\r\n  for (let i = 0; i < l; i++) {\r\n    const observer = creatures.current[i];\r\n    if (\r\n      !vis[i] &&\r\n      observer.gender == \"F\" &&\r\n      observer.isAdult &&\r\n      observer.isAbleToMate\r\n    ) {\r\n      vis[i] = true;\r\n      for (let j = i + 1; j < l; j++) {\r\n        const target = creatures.current[j];\r\n        if (\r\n          !vis[j] &&\r\n          target.gender == \"M\" &&\r\n          target.isAdult &&\r\n          observer.pos.subtr(target.pos).mag() < 5\r\n        ) {\r\n          pairs.push({ mother: observer, father: target });\r\n          vis[j] = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  pairs.forEach(({ mother, father }) => {\r\n    let newBall = new Creature(\r\n      (mother.pos.x + father.pos.x) / 2,\r\n      (mother.pos.y + father.pos.y) / 2,\r\n      (mother.r + father.r) / 2,\r\n      Math.random() > 0.5 ? \"F\" : \"M\",\r\n      creatures\r\n    );\r\n    mother.updateNotAbleToMate();\r\n  });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}