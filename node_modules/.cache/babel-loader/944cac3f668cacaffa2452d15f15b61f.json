{"ast":null,"code":"var _jsxFileName = \"E:\\\\projects\\\\Fun\\\\genetic algorithm\\\\src\\\\components\\\\experiments\\\\earth.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { Vector } from \"./vector\";\nimport { Ball } from \"./ball\";\nimport { Wall } from \"./wall\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BALLZ = [];\nconst WALLZ = [];\n\nfunction randInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nconst Earth = () => {\n  _s();\n\n  const canvasRef = useRef(null);\n  const [ctx, setCtx] = useState(null);\n  useEffect(() => {\n    if (canvasRef && canvasRef.current) {\n      const canvas = document.getElementById(\"canvas\");\n      const ctx_2 = canvas.getContext(\"2d\");\n      canvasRef.current.focus();\n      setCtx(ctx_2);\n    }\n  }, [canvasRef]);\n  useEffect(() => {\n    if (ctx) {\n      for (let i = 0; i < 20; i++) {\n        let newBall = new Ball(randInt(0, window.innerWidth - 20), randInt(0, window.innerHeight - 20), 5, BALLZ);\n        newBall.elasticity = randInt(0, 10) / 10;\n      }\n\n      BALLZ[0].player = true;\n      let edge1 = new Wall(0, 0, canvasRef.current.clientWidth, 0, WALLZ);\n      let edge2 = new Wall(canvasRef.current.clientWidth, 0, canvasRef.current.clientWidth, canvasRef.current.clientHeight, WALLZ);\n      let edge3 = new Wall(canvasRef.current.clientWidth, canvasRef.current.clientHeight, 0, canvasRef.current.clientHeight, WALLZ);\n      let edge4 = new Wall(0, canvasRef.current.clientHeight, 0, 0, WALLZ);\n      requestAnimationFrame(mainLoop);\n    }\n  }, [ctx]);\n\n  function mainLoop(timestamp) {\n    ctx.clearRect(0, 0, canvasRef.current.clientWidth, canvasRef.current.clientHeight);\n    BALLZ.forEach((b, index) => {\n      b.drawBall(ctx);\n      b.reposition(ctx);\n    }); // if (Math.random() > 0.7) {\n    //   BALLZ.push(\n    //     new Ball(randInt(100, 500), randInt(50, 400), 5, randInt(0, 10), BALLZ)\n    //   );\n    // }\n\n    requestAnimationFrame(mainLoop);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    tabIndex: 1,\n    id: \"canvas\",\n    ref: canvasRef,\n    width: window.innerWidth,\n    height: window.innerHeight,\n    style: {\n      backgroundColor: \"#222222\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Earth, \"B7P/88+wLKaKs8yUCwOt0d/Ar0E=\");\n\n_c = Earth;\nexport default Earth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Earth\");","map":{"version":3,"sources":["E:/projects/Fun/genetic algorithm/src/components/experiments/earth.js"],"names":["useEffect","useRef","useState","Vector","Ball","Wall","BALLZ","WALLZ","randInt","min","max","Math","floor","random","Earth","canvasRef","ctx","setCtx","current","canvas","document","getElementById","ctx_2","getContext","focus","i","newBall","window","innerWidth","innerHeight","elasticity","player","edge1","clientWidth","edge2","clientHeight","edge3","edge4","requestAnimationFrame","mainLoop","timestamp","clearRect","forEach","b","index","drawBall","reposition","backgroundColor"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport { Vector } from \"./vector\";\r\nimport { Ball } from \"./ball\";\r\nimport { Wall } from \"./wall\";\r\nconst BALLZ = [];\r\nconst WALLZ = [];\r\n\r\nfunction randInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nconst Earth = () => {\r\n  const canvasRef = useRef(null);\r\n  const [ctx, setCtx] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (canvasRef && canvasRef.current) {\r\n      const canvas = document.getElementById(\"canvas\");\r\n      const ctx_2 = canvas.getContext(\"2d\");\r\n      canvasRef.current.focus();\r\n      setCtx(ctx_2);\r\n    }\r\n  }, [canvasRef]);\r\n\r\n  useEffect(() => {\r\n    if (ctx) {\r\n      for (let i = 0; i < 20; i++) {\r\n        let newBall = new Ball(\r\n          randInt(0, window.innerWidth - 20),\r\n          randInt(0, window.innerHeight - 20),\r\n          5,\r\n          BALLZ\r\n        );\r\n        newBall.elasticity = randInt(0, 10) / 10;\r\n      }\r\n      BALLZ[0].player = true;\r\n      let edge1 = new Wall(0, 0, canvasRef.current.clientWidth, 0, WALLZ);\r\n      let edge2 = new Wall(\r\n        canvasRef.current.clientWidth,\r\n        0,\r\n        canvasRef.current.clientWidth,\r\n        canvasRef.current.clientHeight,\r\n        WALLZ\r\n      );\r\n      let edge3 = new Wall(\r\n        canvasRef.current.clientWidth,\r\n        canvasRef.current.clientHeight,\r\n        0,\r\n        canvasRef.current.clientHeight,\r\n        WALLZ\r\n      );\r\n      let edge4 = new Wall(0, canvasRef.current.clientHeight, 0, 0, WALLZ);\r\n      requestAnimationFrame(mainLoop);\r\n    }\r\n  }, [ctx]);\r\n\r\n  function mainLoop(timestamp) {\r\n    ctx.clearRect(\r\n      0,\r\n      0,\r\n      canvasRef.current.clientWidth,\r\n      canvasRef.current.clientHeight\r\n    );\r\n    BALLZ.forEach((b, index) => {\r\n      b.drawBall(ctx);\r\n      b.reposition(ctx);\r\n    });\r\n\r\n    // if (Math.random() > 0.7) {\r\n    //   BALLZ.push(\r\n    //     new Ball(randInt(100, 500), randInt(50, 400), 5, randInt(0, 10), BALLZ)\r\n    //   );\r\n    // }\r\n\r\n    requestAnimationFrame(mainLoop);\r\n  }\r\n\r\n  return (\r\n    <canvas\r\n      tabIndex={1}\r\n      id=\"canvas\"\r\n      ref={canvasRef}\r\n      width={window.innerWidth}\r\n      height={window.innerHeight}\r\n      style={{ backgroundColor: \"#222222\" }}\r\n    ></canvas>\r\n  );\r\n};\r\n\r\nexport default Earth;\r\n"]},"metadata":{},"sourceType":"module"}